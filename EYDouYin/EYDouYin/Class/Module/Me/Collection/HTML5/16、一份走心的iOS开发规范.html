<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0,viewport-fit=cover">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="format-detection" content="telephone=no">


        <script nonce="1762986970" type="text/javascript">
            window.logs = {
                pagetime: {}
            };
            window.logs.pagetime['html_begin'] = (+new Date());
        </script>
        <title>
 一份走心的iOS开发规范
</title>
        
<style>.radius_avatar{display:inline-block;background-color:#fff;padding:3px;border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;overflow:hidden;vertical-align:middle}.radius_avatar img{display:block;width:100%;height:100%;border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;background-color:#eee}.rich_media_inner{word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.rich_media_area_primary{padding:20px 16px 12px;background-color:#fafafa}.rich_media_area_primary.voice{padding-top:66px}.rich_media_area_primary .weui-loadmore_line .weui-loadmore__tips{color:rgba(0,0,0,0.3);background-color:#fafafa}.rich_media_area_extra{padding:0 16px 24px}.rich_media_extra{padding-top:30px}.mpda_bottom_container .rich_media_extra{padding-top:24px}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;line-height:1.6}body{-webkit-touch-callout:none;font-family:-apple-system-font,BlinkMacSystemFont,"Helvetica Neue","PingFang SC","Hiragino Sans GB","Microsoft YaHei UI","Microsoft YaHei",Arial,sans-serif;color:#333;background-color:#f2f2f2;letter-spacing:.034em}h1,h2,h3,h4,h5,h6{font-weight:400;font-size:16px}*{margin:0;padding:0}a{color:#576b95;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rich_media_title{font-size:22px;line-height:1.4;margin-bottom:14px}@supports(-webkit-overflow-scrolling:touch){.rich_media_title{font-weight:700}}.rich_media_meta_list{margin-bottom:22px;line-height:20px;font-size:0;word-wrap:break-word;word-break:break-all}.rich_media_meta_list em{font-style:normal}.rich_media_meta{display:inline-block;vertical-align:middle;margin:0 10px 10px 0;font-size:15px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rich_media_meta.icon_appmsg_tag{margin-right:4px}.rich_media_meta.meta_tag_text{margin-right:0}.rich_media_meta_primary{display:block;margin-bottom:10px;font-size:15px}.meta_original_tag{padding:0 .5em;font-size:12px;line-height:1.4;background-color:#f2f2f2;color:#888}.meta_enterprise_tag img{width:30px;height:30px!important;display:block;position:relative;margin-top:-3px;border:0}.rich_media_meta_link{color:#576b95}.rich_media_meta_text{color:rgba(0,0,0,0.3)}.rich_media_meta_text.rich_media_meta_split{padding-left:10px}.rich_media_meta_text.rich_media_meta_split:before{position:absolute;top:50%;left:0;margin-top:-6px;content:' ';display:block;border-left:1px solid #888;width:200%;height:130%;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;-webkit-transform:scale(0.5);transform:scale(0.5);-webkit-transform-origin:0 0;transform-origin:0 0}.rich_media_meta_text.article_modify_tag{position:relative}.rich_media_meta_nickname{position:relative}.rich_media_thumb_wrp{margin-bottom:6px}.rich_media_thumb_wrp .original_img_wrp{display:block}.rich_media_thumb{display:block;width:100%}.rich_media_content{overflow:hidden;color:#333;font-size:17px;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;text-align:justify}.rich_media_content *{max-width:100%!important;box-sizing:border-box!important;-webkit-box-sizing:border-box!important;word-wrap:break-word!important}.rich_media_content p{clear:both;min-height:1em}.rich_media_content em{font-style:italic}.rich_media_content fieldset{min-width:0}.rich_media_content .list-paddingleft-2{padding-left:2.2em}.rich_media_content .list-paddingleft-2 .list-paddingleft-2{padding-left:30px}.rich_media_content blockquote{margin:0;padding-left:10px;border-left:3px solid #dbdbdb}.weui-mask{position:fixed;z-index:1000;top:0;right:0;left:0;bottom:0;background:rgba(0,0,0,0.6)}.weui-dialog{position:fixed;z-index:5000;width:80%;max-width:300px;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-color:#fff;text-align:center;border-radius:3px;overflow:hidden}.weui-dialog__hd{padding:1.3em 1.6em .5em}.weui-dialog__title{font-weight:400;font-size:18px}.weui-dialog__bd{padding:0 1.6em .8em;min-height:40px;font-size:15px;line-height:1.3;word-wrap:break-word;word-break:break-all;color:#999}.weui-dialog__bd:first-child{padding:2.7em 20px 1.7em;color:#353535}.weui-dialog__ft{position:relative;line-height:48px;font-size:18px;display:-webkit-box;display:-webkit-flex;display:flex}.weui-dialog__ft:after{content:" ";position:absolute;left:0;top:0;right:0;height:1px;border-top:1px solid #d5d5d6;color:#d5d5d6;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:scaleY(0.5);transform:scaleY(0.5)}.weui-dialog__btn{display:block;-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#3cc51f;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:relative}.weui-dialog__btn:active{background-color:#eee}.weui-dialog__btn:after{content:" ";position:absolute;left:0;top:0;width:1px;bottom:0;border-left:1px solid #d5d5d6;color:#d5d5d6;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:scaleX(0.5);transform:scaleX(0.5)}.weui-dialog__btn:first-child:after{display:none}.weui-dialog__btn_default{color:#353535}.weui-dialog__btn_primary{color:#0bb20c}img{height:auto!important}@media only screen and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3) and (orientation:portrait){.rich_media_area_extra{padding-bottom:34px}}@media only screen and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3) and (orientation:landscape){.rich_media_area_primary{padding:20px 60px 15px 60px}.rich_media_area_extra{padding:0 60px 21px 60px}}@media screen and (min-width:1024px){.rich_media_area_primary_inner,.rich_media_area_extra_inner{max-width:677px;margin-left:auto;margin-right:auto}.rich_media_area_primary{padding-top:32px}}.appmsg_share_notice{font-size:16px;color:#888;position:relative;padding:1.25em 0;margin-bottom:1.75em}.appmsg_share_notice:before{content:" ";position:absolute;left:0;top:0;right:0;height:1px;border-top:1px solid #dfdfdf;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:scaleY(0.5);transform:scaleY(0.5)}.appmsg_share_notice:after{content:" ";position:absolute;left:0;bottom:0;right:0;height:1px;border-bottom:1px solid #dfdfdf;-webkit-transform-origin:0 100%;transform-origin:0 100%;-webkit-transform:scaleY(0.5);transform:scaleY(0.5)}.appmsg_share_notice_hd{font-weight:700;padding-bottom:.2em}.cell{padding:.8em 0;display:block;position:relative}.cell_hd,.cell_bd,.cell_ft{display:table-cell;vertical-align:middle;word-wrap:break-word;word-break:break-all;white-space:nowrap}.cell_primary{width:2000px;white-space:normal}.flex_cell{padding:10px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.flex_cell_primary{width:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;box-flex:1;flex:1}.original_tool_area{display:block;padding:.75em 1em 0;-webkit-tap-highlight-color:rgba(0,0,0,0);color:#333;border:1px solid #eaeaea;margin:20px 0}.original_tool_area .tips_global{position:relative;padding-bottom:.5em;font-size:15px}.original_tool_area .tips_global:after{content:" ";position:absolute;left:0;bottom:0;right:0;height:1px;border-bottom:1px solid #dbdbdb;-webkit-transform-origin:0 100%;transform-origin:0 100%;-webkit-transform:scaleY(0.5);transform:scaleY(0.5)}.original_tool_area .radius_avatar{width:27px;height:27px;padding:0;margin-right:.5em}.original_tool_area .radius_avatar img{height:100%!important}.original_tool_area .flex_cell_bd{width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal}.original_tool_area .flex_cell_ft{font-size:14px;color:#888;padding-left:1em;white-space:nowrap}.original_tool_area .icon_access:after{content:" ";display:inline-block;height:8px;width:8px;border-width:1px 1px 0 0;border-color:#cbcad0;border-style:solid;transform:matrix(0.71,0.71,-0.71,0.71,0,0);-ms-transform:matrix(0.71,0.71,-0.71,0.71,0,0);-webkit-transform:matrix(0.71,0.71,-0.71,0.71,0,0);position:relative;top:-2px;top:-1px}.rich_media_global_msg{position:fixed;top:0;left:0;right:0;padding:.85em 35px .85em 15px;z-index:2;background-color:#c6e0f8;color:#888;font-size:12px}.rich_media_global_msg .icon_closed{position:absolute;right:15px;top:50%;margin-top:-5px;line-height:300px;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);background:transparent url(//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/icon_appmsg_msg_closed_sprite.2x2eb52b.png) no-repeat 0 0;width:11px;height:11px;vertical-align:middle;display:inline-block;-webkit-background-size:100% auto;background-size:100% auto}.rich_media_global_msg .icon_closed:active{background-position:0 -17px}.rich_media_global_msg.voice{color:#1aad19;background-color:#e8f6e8;padding-left:43.3px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rich_media_global_msg.voice .ic_voice{position:absolute;top:50%;margin-top:-10px;left:15px;display:inline-block;width:13.3px;height:18.3px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAA3CAYAAAB+fggjAAAAAXNSR0IArs4c6QAACb9JREFUaAW9WX9wVMUd3917d5cf/Agp1OTuQgIlQqUoI1JI1Noojg2I+VU7hVrtDDpadRypgzKjU52x09KOdsS20ypSO/WPWttcAqhTOlSoU4FIoRUn0wEZIMndBUkwGEhyv97bfvaS97L77t3lHYUuc+z3935397vf/e4LJZfQnuPPsW0d25ZQzr9mELKSUnIVzHxB/Dh+lBOKf4OEk0FOyQAl/CyltIt5tL29d/V2FzIkLUQ4FA7dwon+KCF0Fee8rBBdS5aSs/D+PUrYbyKtkb9b9BzAlA7CERrqDN1DOH8C8HU57FwSGat6kBGypbcluhMwFj+75XWwemf1vHQqtZ0T3pCtelkp73uJ79s9bT39dqs5HQyFK79jcPIKFErtSgLHjPvQHQB0EFt2hDE2QHU6RMvpkODrw3o50Uk5p3w2N/SlUKhHTNZjskHBz2pi6ylbH22J/k3mOToYCAceIYT/AgYVPhxJQTkMQ792Ez/yQCY8d0fgRl0nj8J2G5z1mvSJ3qCMrYOTb5l0xQFBDIUDjxmcbzUFJnu621/kf/DUmlM9k7RLh4LtwRChxquck0bFCqWjxENuijXF/iXoioNVnZU36wZ5D7PTTCWsWhyp4uFYa+x1k3Y5ezj6oNgtdTVpL0Lo+mhr9BwO0Xib+/bcWYZB35Sdg/sXsOSNV8o5MXK0LfoKYXQDxpJOMZ8L1g8E33JQT6aeQRoJCOJEMxjxfCvSEtlnEq5Uj5h7Ayv2I8U+5w9du/va0oyD896ZV004RQKebIzQ53EQ/jJJubJQhUa2YBXPmqNgy8vPjZ67N+NgMh6/HwSfyURgniwqLvmJif8/+sNrY6O4XV5WxjKMuvHDQOl9uCksHmX0xydWn0hYBJfAgncXzBhNjjZSnX8Fq3ENdmWWUMUhS2Ebv5HrtjDNg/+B5IY4wos0cVukUskqUwj9xfKS2W9GSEwi5QdxFS5BMn54dGzkHkhOy0x18j9COY1O5VxmhGJylIxMjgUTC7WUkfrqJAkQpfuP3nFUElO4WUgwHHza0HU1wG1SGOi0jeSI+kf92hgZlXg0yajBV0gUwri4vqZud/O7PbhxkGiNvM5NWHKV3NN8LGQbuVdDsYIVzOzHOI+ygzYhR/RAxwdbELcPZDEp+Q+2YQcS2L+Zwc4gdSUQS7Oz5BwIKUqWyq5ApEdDsVmhBKaHnHDQVUg1uwKLkkm+USEScsbjId/ra+7fbaMThMHVdpoTjuyxXloqcUg+Eqe4WBb26/5hGXeCkynyfdA9Fo/SQeZlN/StjUQtmgQUFxVnKhyJlAUGOgP13OC3ygxGWZhhSYtkYqIicUHGnWCUluoFz8mzkRzOCf14Wfyikx2ThvQ0B6XZdvhi1QaoAfZHmiMf40xMJmih4BvxWQnbNCD3i/cunoYab4FMQwr5o4zb4Uh9ZMxOM3Fsf91YfPQfOAeLTJrouYc8K3rEII0ikBcKRLTEhUQNuo8E7NSGh4dnyDOFzIioOpxkZdqyXYGSAV2rMYjhIUamkL2ZcANvG+MWWS4DU/parDm2R8AiBj/Bz3IQe14DPKeDRho1hNyonFplhgp/mmaNhpH6s0VVToNFxR7TPcVFJVZdgMG4cNBq0LvRQhyA2vLaMyDrFouTL169KzBlGkEofdnScQYMXBI/raiuXC1fs4wz2iXLI+U0y7gd3tewL41IVhLvmM6X2eWycM7nZ9EEAXWgWDWPpjWg7tx8+IbD4llhNTadTn8XcWgVBphprbhbLQkngJK/ymTdoE/IuDPME5jYSYx1HLn3EH6/B77Rq/m+FG2L3d7X1Pe+kx5kCBJp4G0clDWmAJTD0db+NhO398GO4G3cMDJBbPIY9bShfgyb+OXqMwGPV9rrskFsc6t4fck0GRZPQ5GnZBpO4x/wvrAmKfP+FzjjYF9zn5i58s0ET8MX8hnGc+BxOGnFi8innBg7UUBsFaV6Pt1CeBMrKD73qG8CbPnKUHvg/lzG+tr6DlGWufJkEWQp/tjgyMBJPF+fWrhj4XSZeSlwJgaFIhyioY7gHvS3moYyK6TRO6JN0b0mzd6HOgIbEBK/gp7fzsOBGMLUX2Z+bWvvnb1T3sd2fYFbDgoET8/56UTqKEBrizDIeY1463tae1BGObeq9qrlBtXb4aRcmVvCmOjneFq+UFZW9lJ3Q3fee9lSmgAUBwUNd+N9CPjfTfDHO0pO+z1FK081nfpUoUuIuKPPD322Gav5OMjWBCURRBGN4GH0QCGvxSwHhcFguPLnGEip97AKXd5y39dPN5yOy4PaYXGrjKToRsTMIzg4M+38cZz+LNYWe8qZp1Izh0QlEVLfctMmzNb6gCP4GGxFcij5W7usHT++NjaI4uHpadr0KkbpZvAH7DKw9iRi98lsejbFcQWF2LJ/LvOe6Yl14m5eLavhU8gqkQdlWj5YnOSL+sXNWNFNmKT1NQsLkGAez3zcIHmfj44rKAYUd2Jxcek6HCP1cHD+Ig5DzonZnT3WdOyCWFGukRUIwkGTL069kdYz319MmlOf00EhjKpiWKPku7IiDF9X3RHMecvIsjIsPqdh1ewO3SXLOMF5HRQKvS39h5GNOmVlnZP1Mu4W9pZ5/4TDZh0ybHkt3iKOqcm0OaWDQpB52DZTQfQo+Vtl3C08kQGO2OStYtlGz6CuHJxZO3MPYnHYMsDJVSKpW3ghAOXKsxaPoup86q4c7F7cncSyHZANGen0Shl3C+PSPy/L4qmZ97525aAwiMLgQ8Uwp8tl3C2MASff00KJMRW3GXLtIFbwY1kXp/kaGXcL42AoDqHit6p5JxuuHfQwj1IvIhFO9QhyGk/QpskM/C3Gyo0y3YRdOzgnNOcTHJS0qYgVrBIfLE28gF75ToN3bySfrmsHM68tTo7JxuKJ+PUyPhWcqbQ5XarI+TRlZxQeENcOjitS5dMc5/oqu8F8+ODI4FrEoPVpBTfL8akK2YIc9DCiFAkoyTbUdNSU5XPK5Im/MQPeZOKZnpNdCu6AFOTgrJLZO2FDrogrUjyxPbQ/VOxgWyG9Fn71h6hoJkMC8exlvl8qQg6I66rE1A22Vz6PEuwZExe92CrQtmmU72U+fzQ9K/15XV1dsuudrhlc50t0XX8Izq1TdAh5I9rWf69Mc4ILdlCU9kNDn32ICvZS0wySAY2W+shSUdw6OSXTCtpioSgePZrPeydWTUncstF8MPRw1dFvunFO2CnYQaGEk3cSn8iWYyVeBGoImqtG6RHxQsQfEJVskE+34C22GxOfb8fiY40owtaAJ0qnciTxcvSlE7VfBPX3IQ8lb/U2R3dgBRGu7tt/AYJkZEGv/oaXAAAAAElFTkSuQmCC) no-repeat center;background-size:contain}.rich_media_global_msg.voice .icon_more{position:absolute;right:15px;top:50%;margin-top:-6.5px;width:8px;height:13px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAmCAYAAADeB1slAAAAAXNSR0IArs4c6QAAA49JREFUSA2tVk1IVFEUPveOmhQk1ibfvLFZSJtACqJIIpCIoB+imcFV2Z9ZUVnRomgRGFn2i6mFf5XVotCZMYmgIMhlq6BFENFiwjfPAosgFzXOvNu5o3fmeue98Y16F3PP+c453/fu/xCQmvZSWwwJaC0G6P8WND9IoTmbVFRycpqAdgBWkwRo94V960RsPn1aoPpN9RI6CR0WsDWcjAErtUiqTR/S18+HnNcSTv5zYrwDSatVMgLkH6aciwfj79WYW5+OT4xfsyPnBIgvwt872qBW45ZQzaMlJXCfMPJbDQgfRUoIhduVUW2TwArpaWyX+bnYU9JAAH44FaJIccqCW76Ib7NTjhOOvFPN/8q/IvE3cR+npFJgao9rkiSUXjD2GCNqzMnPbNPYjth3mqINlJAvTsk4kiJmWa3eQe8WpxwVzwjwgFFn/CorL29EkY9qovC5CFDrKq7JVoHl6zNTJCf53/lLk78SN/FcbJRx2cZCixC4ZATGXsu4as8YgQjGamN/q5atOotn4K3A1J4BUMbgsh7Wt6sx2bcV4AkjtSPJxkDjRQL0hVwg21zEglSzN+rdKeOybTtFcgK39ajWZDFWr+IZHxfGQ8mV0YA5nMGmDVcCPNcb8R5gYJ1UCWQfp6PFCI4NyZhrAV6EIiHGrPOAB0ImkW2c0la8u8ICc0wUCWrvC1dsw+3TnN6uanDaJ4zeiIfiA9wtWIAX8XspxeA6iuBlaN88hNzCNXk+JwFOuXJYW5tMQmc+EcqgzXGb2n9XFk1NstX5yKczl89JAF+6vRaBM1m5XAu//qkRGrtb8BThTtqH2/V0LmUWwbvsiREw8X0vcJHxxNbjNm3KUuVaMjmPFuWm2CPesHc/kp+yj06hFMhj/PIOOcfVFLk6xZT0G3vMTpmc27MusityZk/OBfKOwA05MPLIDJn3OJldcxTQotpBYOyEXVEWIw/NoInvuHOznSJfVDs0GzneNw9mI+eyOSPQI9phfCqPO38TFhHaFw/Eu/LliNiMESB5w6zkzD05F8mMYJr8mFC263Fa+vAadvXloj4toEcrjlgMjgrQrseHpBcfkm67WD6M6MN6lTWZeoZjyYxGLcB57MGnsEfF3fjU2G189QBpcUqmBLrnSs4504s8GjLxrwm5qYrg3dKFf6x6VbwQ3yOS/wz8+bS0ruwfELaBY2nyoNkn4gvW65GKRn4WForwP+dONHDaOHeZAAAAAElFTkSuQmCC) no-repeat center;background-size:contain}.preview_appmsg .rich_media_title{margin-top:2.3em}@media screen and (min-width:1024px){.rich_media_global_msg{position:relative;margin-bottom:32px}.preview_appmsg .rich_media_title.rich_media_title{margin-top:0}}.pages_reset{color:#333;line-height:1.6;font-size:16px;font-weight:400;font-style:normal;text-indent:0;letter-spacing:normal;text-align:left;text-decoration:none;white-space:normal}.weapp_element,.weapp_display_element,.mp-miniprogram{display:block;margin:1em 0}.share_audio_context{margin:16px 0}.weapp_text_link{font-size:17px}.weapp_text_link:before{content:'';display:inline-block;line-height:1;background-size:contain;background-repeat:no-repeat;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAB4RJREFUWAm1WUuMFGUQnn7szL5mdvbh7GwgEQUlS1weiagxxpigiUZeJgY1cMMDcDCGG8GLCWZvxHjh4BWUeDEsejBBEzWYKBBEiHAABBfCMOwsuzvszrvb+v6Zb7amt1ce0Up6qv6q+qq+/rv778dYkUeUqamp5dFodJPv++ts205blpX2PG8I5cTOiLol44zYZ8vl8vFkMnnlUVpZDwPK5/MpIbWrVqttFlLD0jwiBEHIaNbCGKJjQvai+I9Xq9VD8Xg8y9z76QcimM1mu3t6ej4UYh84jtOFxhBNJGxskhp5xIielZ37bHp6+tNUKnWPOYvp+xKcm5t7S4gclKIpFNGzsmjRkBnUOwNbZjQrtfZ2dnZ+vVgd+O1/CVqlUukjIXZYCqZADBuEJIllc4xh61zmaB9s7LDkHkYPwJgX1KEEx8fHO2TmjkjyPgLQmERIAjHajGnyjDGPOfQ3xvvQCz3ZS+sw5hYAsodbWBhNw4SNGCMBnR/MYS60jskhPyaHe7u4W5otmEGZ8v0gx2YsyDE0bc4Wx8glOe2Dn2No2hqPnuiNXC0tM9i4IA5LcksjNm0BNs417aMNAsRom3HoMD8wsu3QF06TIJaSRCJxXrDmamUBrVEYRejDmDY0JEgsLE4f8mkTj6tb1tsRLkEukiBY56Q4rizThI2okaNtjFlUx+Cr1vzIyTMz7uW/ik4mV7Yd24oMDrR5q1Z01Nav6a5yVsLwcvRS4CI1D5ge+MEdQhbgC1yECSQhjMNsYCGMQ2dzFeuLYxOxibuVBec3cpekY7XtWwZK8a75sMajj2yzcsd5BnccM4PCeg/JoQjJwAY4TFgUMeRjXK54kS/H6uR6e1xvw4vJyuNLYh5yrt8s2d//MtV2M1Nyvvo2F9u5LVUSJEJNPPtKrS7XdXdL6GOzG+LYqIJNUiShYyRDjRw2OXnmnntnsmInE663e3u6uHZVZy2ZsH1sa4Y7ant2DBURu3aj6Jz9c9YBVuNRhz6pvwlju1gsPikzaG78CKIxNgh1sAj91MhFztXrRQf2C+vi1Y721tMC/vZYPQb78rWCE8Tr/uCEJyZbrprNAAST4QOAIGj6qBnDGPjZgmeS0gNRc1jD8D1xx+y978/XJh4awl54nHOl8Do6STKoDarxg5gmxpj2yTEwbtZhDvSlKwUzy+lU1NPxFvz8EcSzpnnYXDCD3AtqFtOFGNM+kMBYx+DzPD/y86m8e+7SnBON2v7qlR01ncP6Gg9uriSlGSSAYyTDhl/7bmTK9tXxkj3ydFetL4lTqT5jyIdgTB/0qT9m3R9/zbvT+Yottfw3XuktJxP1Q61rh/QfcuUcHBKmzcIwdCILQE/crVpHj9+JZe7U17hSyau89lJPxYDVD3KJm5qpWWMnJqMIY+nZvKGv/NQT7ebwcicI5RhYiHBLYx30WQxObWNMyQm5Q0cy7ULK6up0/PUj3dWXn48bckEMGrGZkPJ3bhssunLmLR2qXzyIacxitvT2XZm9jABWMEmD6QPJYzILILdyeWf13Y39ZTSEMAeaQpuxZUujHn26fhCPmI6Dmy0OvIE1AyyqfYWiH7n6d9GJxWz/7df7FpBjLjQETag1Me1HPKxXwJfByXeLRViUYGiI3F/NSYr1raPdNoXh594S75nVT1Z/mUz6kAfhGJp2EI887gRy5Bw0M/g7ndQI0gZISJkpyU6WbTm7m8RYELnFkh+ZnK4/qCTiWF4XXtk6X5NkLjX7iz4rh9keAxBODaKNWKrf9Qd627yC3Cm++2m6DbHWYpHI2Im7UfFZqf6oN9DrmAsPWIquH8QjR8dRG2O88JszW56kTwvRYSayOYtD37xdsT8/ejtWq/nWsqXttdXDHdW+RNTHY9Vv5/IuTgPHtfxd7w0V04/V1ziND5IiCeTofsyTw3tRnqyfNY9b8qg1JkktXwo0EKAlg23eO2/2l7/5YaoNTyPYNIFEt6xxr/aVQQ75QTxJkEBYnDFocEKOqYQHVnn+uiCBLji1IBnCBiVZ+U6fv+dmshV7cqpq9fY4/tBg1HtudXe1zeyuRs9fHMRrEvQBQT9smb1Z+YphHljr3cWJF2gB7NOENAhAjrWGP9iIPuZhDOFYa/hD8KOxWOyAweAHEnxpqnvrvyyofbQZg4boZsEcjrUO4mX2Wl6a6jdhQeAtSoJ70YDNoIMFwmJoqImF5Wgf8jHGRhx0Y9vLNzrkNQligPdRuZpHgyDEKIixMPMQow82/dC04YdgzFwdg0+2Uf1OjPzmOYhBQ6xCoYCX9626WDOo9pqNqHUO7IfBy0XxYJ8+UHdiYuJ9AHQT2GGiycHmmLNDkmFY+JCPXrlcbqcMW28/iCNpEcHnt/3SwHzhQiEIG5JAGDYsN8yHGjil5Ir9BKVDa4U5ta/xveagNDCfRBhDQ5JczEaujhHb0FlclMFzLpDTepEEgxijAL6VSCNcPLPw6aa0oSEgTZsx+GFjwyIsenRmZmbkfuQMDj8PKrjjyCHZIw02im7eGokHAQhnFjZ8GAux/+8jOhoFhX9DCIG1EsPfD9jMC5j4/rO/If4BCiyOk7IAfLMAAAAASUVORK5CYII=');vertical-align:middle;font-size:11px;color:#888;margin-right:6px;margin-top:-3px;background-position:center;height:20px;width:20px}.flex_context{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.flex_bd{-webkit-box-flex:1;-webkit-flex:1;flex:1;word-wrap:break-word;word-break:break-all}.original_page{background-color:#fff;font-size:16px}.account_info{padding:0 0 20px}.account_info .flex_bd{padding-left:.85em}.radius_avatar.account_avatar{width:40px;height:40px;padding:0}.account_nickname{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;line-height:1.2;color:#576b95;font-size:14px}.account_nickname_inner{font-weight:400;vertical-align:top}.account_desc{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;color:#b2b2b2;font-size:13px;line-height:1.2;padding-top:.3em}.account_desc_inner{display:inline;vertical-align:top}.share_notice{margin-bottom:20px;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.share_media{padding-bottom:18px}.original_panel{padding:20px;background-color:#fcfcfc;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;position:relative}.original_panel:after{content:" ";border:1px solid #d8d8d8;border-radius:4px;-moz-border-radius:4px;-webkit-border-radius:4px;position:absolute;top:0;left:0;width:200%;height:200%;-webkit-transform:scale(0.5);transform:scale(0.5);-webkit-transform-origin:0 0;transform-origin:0 0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.original_panel .original_account{margin-bottom:18px;position:relative;z-index:1}.original_panel .original_account_avatar{width:28px;height:28px;padding:0}.original_panel .original_account_nickname{padding-left:.85em;font-size:15px;color:#576b95}.original_panel_title{font-size:23px;color:#000;margin:0 0 16px}.original_panel_content{color:#333}.original_panel_tool{padding-top:20px;position:relative;z-index:1}.original_cell_nickname{display:inline-block;vertical-align:middle;font-weight:400;width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal;max-width:8em;color:#000}.original_tool_area{padding:1.17em 0;border-width:0;position:relative}.original_tool_area:before{content:" ";position:absolute;left:0;top:0;right:0;height:1px;border-top:1px solid #dfdfdf;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:scaleY(0.5);transform:scaleY(0.5)}.original_tool_area:after{content:" ";position:absolute;left:0;bottom:0;right:0;height:1px;border-bottom:1px solid #dfdfdf;-webkit-transform-origin:0 100%;transform-origin:0 100%;-webkit-transform:scaleY(0.5);transform:scaleY(0.5)}.original_tool_area .radius_avatar{width:20px;height:20px;margin-right:.2em}.original_tool_area .flex_cell{padding:0;font-size:14px}.original_tool_area .icon_access:after{margin-right:4px;top:0}.preview_appmsg .rich_media_title{margin-top:1.5em}.preview_appmsg .account_info{padding-top:3em}.original_page{background-color:transparent}.account_info{-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0;padding-bottom:20px;font-size:14px}.account_info.appmsg_account_info{padding-bottom:32px}.account_info .radius_avatar img{background-color:transparent}.share_notice{font-size:16px;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.original_panel{background-color:#fafafa}.original_panel:after{border-color:#e6e6e6}.original_panel .original_account_avatar{width:30px;height:30px}.original_panel_tool{font-size:14px}.original_panel_tool a{color:#576b95}.original_panel_content{font-size:17px}.share_media{padding-bottom:30px}.icon_appmsg_tag{display:inline-block;vertical-align:middle;padding:0 .5em;font-size:12px;line-height:1.5;background-color:#c3c3c3;color:#fff;border-radius:2px;-moz-border-radius:2px;-webkit-border-radius:2px;width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal;max-width:70%}.icon_appmsg_tag.primary{color:#3bb638;padding:4px .78em;background-color:rgba(9,187,7,0.08);font-size:12px;border-top-left-radius:.95em 50%;-moz-border-radius-topleft:.95em 50%;-webkit-border-top-left-radius:.95em 50%;border-top-right-radius:.95em 50%;-moz-border-radius-topright:.95em 50%;-webkit-border-top-right-radius:.95em 50%;border-bottom-left-radius:.95em 50%;-moz-border-radius-bottomleft:.95em 50%;-webkit-border-bottom-left-radius:.95em 50%;border-bottom-right-radius:.95em 50%;-moz-border-radius-bottomright:.95em 50%;-webkit-border-bottom-right-radius:.95em 50%}.icon_appmsg_tag.default{border:1px solid rgba(0,0,0,0.1);color:rgba(0,0,0,0.3);background-color:transparent;padding:0 .54em;font-size:15px;line-height:1.3;border-top-left-radius:.67em 50%;-moz-border-radius-topleft:.67em 50%;-webkit-border-top-left-radius:.67em 50%;border-top-right-radius:.67em 50%;-moz-border-radius-topright:.67em 50%;-webkit-border-top-right-radius:.67em 50%;border-bottom-left-radius:.67em 50%;-moz-border-radius-bottomleft:.67em 50%;-webkit-border-bottom-left-radius:.67em 50%;border-bottom-right-radius:.67em 50%;-moz-border-radius-bottomright:.67em 50%;-webkit-border-bottom-right-radius:.67em 50%}.rich_media_meta_list .icon_appmsg_tag.default{margin-top:-1px}.icon_appmsg_tag.title_tag{background-color:#d04b4e}.icon_global_tag_wrp{text-align:right;padding-bottom:12px}.icon_global_tag{background-color:rgba(118,118,118,0.16);color:rgba(0,0,0,0.41);line-height:2.2;border-top-left-radius:1em 50%;-moz-border-radius-topleft:1em 50%;-webkit-border-top-left-radius:1em 50%;border-bottom-left-radius:1em 50%;-moz-border-radius-bottomleft:1em 50%;-webkit-border-bottom-left-radius:1em 50%;padding:0 1.8em 0 1.34em;font-size:12px;margin-right:-24px;display:inline-block;vertical-align:top}.global_plain_btn{display:inline-block;vertical-align:middle;padding:0 1em;line-height:2;font-size:14px;-webkit-tap-highlight-color:rgba(0,0,0,0);border-radius:5px;-moz-border-radius:5px;-webkit-border-radius:5px}.global_plain_btn.primary{color:#1aad19;border:1px solid currentColor}.global_plain_btn.primary:active{color:rgba(26,173,25,0.6)}.wx_video_context{color:#fefefe;position:relative;background-color:#000}.wx_video_thumb,.wx_video_thumb_primary{position:absolute;left:0;width:100%;height:100%!important;top:0}.wx_video_thumb_primary{-webkit-background-size:cover;background-size:cover;background-position:50% 50%;background-repeat:no-repeat}.wx_video_play_btn{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);margin-top:-2px;font-size:0;border-width:0;background-color:transparent;padding:0;outline:0;z-index:2}.wx_video_play_btn:before{content:" ";display:inline-block;width:0;height:0;border-width:14px 0 14px 25px;border-color:transparent transparent transparent #fff;border-style:dotted dotted dotted solid}.wx_video_mask{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,0.5)}.place_audio_area{min-height:100px;background-color:#fdfdfd;display:block;margin:16px 0}.place_music_area{min-height:68px;background-color:#fdfdfd;display:block;margin:17px 0 16px}.rich_media_empty_extra{background-color:#fafafa}.appmsg_skin_default.rich_media_empty_extra{background-color:#fff}.appmsg_skin_default .rich_media_area_primary{background-color:#fff}.appmsg_skin_default .rich_media_area_primary .weui-loadmore_line .weui-loadmore__tips{background-color:#fff}.appmsg_style_default .rich_media_tool{padding-top:15px}.rich_media_title_ios{font-weight:700}</style>
<style>
        </style>
<!--[if lt IE 9]>
<link rel="stylesheet" type="text/css" href="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/pc3ec991.css">
<![endif]-->

    </head>
    <body id="activity-detail" class="zh_CN mm_appmsg  appmsg_skin_default appmsg_style_default">
        
<script nonce="1762986970" type="text/javascript">
    var biz = ""||"MzA3NzM0NzkxMQ==";
    var sn = "" || ""|| "6fd31a66297b00ae558ebbac1eeb8666";
    var mid = "" || ""|| "2655359665";
    var idx = "" || "" || "1";
    window.__allowLoadResFromMp = true; 
    
        
</script>
<script nonce="1762986970" type="text/javascript">
var page_begintime=+new Date,is_rumor="",norumor="";
1*is_rumor&&!(1*norumor)&&biz&&mid&&(document.referrer&&-1!=document.referrer.indexOf("mp.weixin.qq.com/mp/rumor")||(location.href="http://mp.weixin.qq.com/mp/rumor?action=info&__biz="+biz+"&mid="+mid+"&idx="+idx+"&sn="+sn+"#wechat_redirect"));
</script>
<script nonce="1762986970" type="text/javascript">
var MutationObserver=window.WebKitMutationObserver||window.MutationObserver||window.MozMutationObserver,isDangerSrc=function(t){
if(t){
var e=t.match(/http(?:s)?:\/\/([^\/]+?)(\/|$)/);
if(e&&!/qq\.com(\:8080)?$/.test(e[1])&&!/weishi\.com$/.test(e[1]))return!0;
}
return!1;
},ishttp=0==location.href.indexOf("http://");
-1==location.href.indexOf("safe=0")&&ishttp&&"function"==typeof MutationObserver&&"mp.weixin.qq.com"==location.host&&(window.__observer_data={
count:0,
exec_time:0,
list:[]
},window.__observer=new MutationObserver(function(t){
window.__observer_data.count++;
var e=new Date,r=[];
t.forEach(function(t){
for(var e=t.addedNodes,o=0;o<e.length;o++){
var n=e[o];
if("SCRIPT"===n.tagName){
var i=n.src;
isDangerSrc(i)&&(window.__observer_data.list.push(i),r.push(n)),!i&&window.__nonce_str&&n.getAttribute("nonce")!=window.__nonce_str&&(window.__observer_data.list.push("inlinescript_without_nonce"),
r.push(n));
}
}
});
for(var o=0;o<r.length;o++){
var n=r[o];
n.parentNode&&n.parentNode.removeChild(n);
}
window.__observer_data.exec_time+=new Date-e;
}),window.__observer.observe(document,{
subtree:!0,
childList:!0
})),function(){
if(-1==location.href.indexOf("safe=0")&&Math.random()<.01&&ishttp&&HTMLScriptElement.prototype.__lookupSetter__&&"undefined"!=typeof Object.defineProperty){
window.__danger_src={
xmlhttprequest:[],
script_src:[],
script_setAttribute:[]
};
var t="$"+Math.random();
HTMLScriptElement.prototype.__old_method_script_src=HTMLScriptElement.prototype.__lookupSetter__("src"),
HTMLScriptElement.prototype.__defineSetter__("src",function(t){
t&&isDangerSrc(t)&&window.__danger_src.script_src.push(t),this.__old_method_script_src(t);
});
var e="element_setAttribute"+t;
Object.defineProperty(Element.prototype,e,{
value:Element.prototype.setAttribute,
enumerable:!1
}),Element.prototype.setAttribute=function(t,r){
"SCRIPT"==this.tagName&&"src"==t&&isDangerSrc(r)&&window.__danger_src.script_setAttribute.push(r),
this[e](t,r);
};
}
}();
</script>

        <link rel="dns-prefetch" href="//res.wx.qq.com">
<link rel="dns-prefetch" href="//mmbiz.qpic.cn">
<link rel="shortcut icon" type="image/x-icon" href="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/common/favicon22c41b.ico">
<script nonce="1762986970" type="text/javascript">
    String.prototype.html = function(encode) {
        var replace =["&#39;", "'", "&quot;", '"', "&nbsp;", " ", "&gt;", ">", "&lt;", "<", "&yen;", "¥", "&amp;", "&"];
        
		
		
		
		
        
        var replaceReverse = ["&", "&amp;", "¥", "&yen;", "<", "&lt;", ">", "&gt;", " ", "&nbsp;", '"', "&quot;", "'", "&#39;"];
	    var target;
	    if (encode) {
	    	target = replaceReverse;
	    } else {
	    	target = replace;
	    }
        for (var i=0,str=this;i< target.length;i+= 2) {
             str=str.replace(new RegExp(target[i],'g'),target[i+1]);
        }
        return str;
    };

    window.isInWeixinApp = function() {
        return /MicroMessenger/.test(navigator.userAgent);
    };

    window.getQueryFromURL = function(url) {
        url = url || 'http://qq.com/s?a=b#rd'; 
        var tmp = url.split('?'),
            query = (tmp[1] || "").split('#')[0].split('&'),
            params = {};
        for (var i=0; i<query.length; i++) {
            var arg = query[i].split('=');
            params[arg[0]] = arg[1];
        }
        if (params['pass_ticket']) {
        	params['pass_ticket'] = encodeURIComponent(params['pass_ticket'].html(false).html(false).replace(/\s/g,"+"));
        }
        return params;
    };

    (function() {
	    var params = getQueryFromURL(location.href);
        window.uin = params['uin'] || "" || '';
        window.key = params['key'] || "" || '';
        window.wxtoken = params['wxtoken'] || '';
        window.pass_ticket = params['pass_ticket'] || '';
        window.appmsg_token = "";
    })();

    function wx_loaderror() {
        if (location.pathname === '/bizmall/reward') {
            new Image().src = '/mp/jsreport?key=96&content=reward_res_load_err&r=' + Math.random();
        }
    }

</script>

<script nonce="1762986970" type="text/javascript">
        window.__moon_report_uin = "0";
            window.no_moon_ls = 0;
    </script>
        
<script nonce="1762986970" type="text/javascript">
    var write_sceen_time = (+new Date());
</script>

<div id="js_article" class="rich_media">
    
    <div id="js_top_ad_area" class="top_banner"></div>
    
    <div class="rich_media_inner">

        
        
        <div id="page-content" class="rich_media_area_primary">
          <div class="rich_media_area_primary_inner">
                                    
                        

            <div id="img-content">

                
                <h2 class="rich_media_title" id="activity-name">
                    
                    
                    一份走心的iOS开发规范

                                                                                </h2>
                <div id="meta_content" class="rich_media_meta_list">
                                                                                
                                        <span class="rich_media_meta rich_media_meta_nickname" id="profileBt">
                      <a href="javascript:void(0);" id="js_name">
                        iOS开发                      </a>
                      <div id="js_profile_qrcode" class="profile_container" style="display:none;">
                          <div class="profile_inner">
                              <strong class="profile_nickname">iOS开发</strong>
                              <img class="profile_avatar" id="js_profile_qrcode_img" src="" alt="">

                              <p class="profile_meta">
                              <label class="profile_meta_label">微信号</label>
                              <span class="profile_meta_value">iOSDevTip</span>
                              </p>

                              <p class="profile_meta">
                              <label class="profile_meta_label">功能介绍</label>
                              <span class="profile_meta_value">iOS、iPhone资讯，万名iOS开发者、swift开发、果粉聚集，参与技术讨论，整理开发技巧，分享创业经验！享受生活、热爱编程！</span>
                              </p>
                              
                          </div>
                          <span class="profile_arrow_wrp" id="js_profile_arrow_wrp">
                              <i class="profile_arrow arrow_out"></i>
                              <i class="profile_arrow arrow_in"></i>
                          </span>
                      </div>
                    </span>


                    <em id="publish_time" class="rich_media_meta rich_media_meta_text"></em>





                </div>
                
                
                
                
                                                
                                                                
                                
                
                <div class="rich_media_content " id="js_content">
                    

                    

                    
                    
                    <section class="xmteditor" style="display:none;" data-tools="新媒体管家" data-label="powered by xmt.cn"></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;max-width: 100%;min-height: 1em;color: rgb(62, 62, 62);text-align: center;"><span style="max-width: 100%;line-height: 34.1333px;font-size: 14px;letter-spacing: 0.8px;color: rgb(178, 178, 178);box-sizing: border-box !important;word-wrap: break-word !important;">点击上方“</span><span style="max-width: 100%;line-height: 34.1333px;font-size: 14px;letter-spacing: 0.8px;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;color: rgb(0, 122, 170);box-sizing: border-box !important;word-wrap: break-word !important;"><strong style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><strong style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">iOS开发</strong></strong></span><span style="max-width: 100%;color: rgb(178, 178, 178);box-sizing: border-box !important;word-wrap: break-word !important;">”，选择“置顶公众号”</span></span><span style="max-width: 100%;color: rgb(255, 41, 65);font-size: 14px;line-height: 22.4px;box-sizing: border-box !important;word-wrap: break-word !important;"></span></p><p style="margin: 0em 0.5em;padding-right: 0.5em;padding-left: 0.5em;white-space: normal;max-width: 100%;min-height: 1em;color: rgb(62, 62, 62);text-align: center;"><span style="max-width: 100%;color: rgb(178, 178, 178);box-sizing: border-box !important;word-wrap: break-word !important;">关键时刻，第一时间送达！</span></p><p style="margin: 0em 0.5em;padding-right: 0.5em;padding-left: 0.5em;white-space: normal;max-width: 100%;min-height: 1em;color: rgb(62, 62, 62);text-align: center;"><img class="" data-ratio="0.0625" data-src="http://mmbiz.qpic.cn/mmbiz_jpg/ow6przZuPIG18kzbzliaybJA5y49s2zn9OVOziayVbGUmujwPYZLVGmbMalFKZr8GstdMVntUWN6NVaibmrbsQR4w/640?" data-w="640" width="auto" style="color: rgb(178, 178, 178);box-sizing: border-box !important;word-wrap: break-word !important;visibility: visible !important;width: 656px !important;"  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><a href="https://mp.weixin.qq.com/s?__biz=MzAxMzQ3NzQ3Nw==&amp;mid=2654250659&amp;idx=5&amp;sn=a6af148ed8fdf2cce2baaf62390953ed&amp;scene=21#wechat_redirect" target="_blank"></a></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><a href="https://mp.weixin.qq.com/s?__biz=MzI1OTQwOTg2Mg==&amp;mid=2247485053&amp;idx=4&amp;sn=041d388a2b25a5d3c869e2c99fcf893f&amp;scene=21#wechat_redirect" target="_blank"><img class="" data-backh="261" data-backw="558" data-copyright="0" data-ratio="0.46730462519936206" data-src="https://mmbiz.qpic.cn/mmbiz_gif/8RTSPr4mlymeeDuqGvOToCf0rvibQickeR0ibXPicZJ0RMiaJFpk8TicHlOWYdvNurUov1l9wrSW8QB5MDqa9HMbKRAw/640?wx_fmt=gif" data-type="gif" data-w="627" style="width: 540px;"></a></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 20px;"><strong>前言</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">说是前言，其实也是本文诞生的目的。随着公司业务的不断增加，功能的快速迭代，app的业务线越来越多，代码体积变得越来越庞大。同时，app投入的开发者也也越来越多，不同的开发者的code风格千差万别。加之公司开发者人员变动，为了保证app稳定性，保证开发效率，统一开发风格。于是，这篇iOS开发规范应运而生。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">因笔者现在所就职公司的开发规范主导编写，目前公司业务的迭代都在按照这个规范在有条不紊的进行。综合之前编写规范的经验，历时一个月的时间，断断续续重新梳理了一份比较全面、比较完整的iOS开发者规范，希望这些条条框框能够给正在阅读的你提供一些参考的价值。也希望越来越多的iOS开发者能够养成优秀的编码习惯。如果你觉得个别地方不妥或者有需要补充的规范，请留言或者私信，我会第一时间响应。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 20px;"><strong>约定</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">在我看来，开发规范像是一条可供参考的标准线。不同开发者可以根据这条标准线来规范自己的开发行为，尤其是在大的项目中，开发规范可以约束不同开发者的开发风格，使项目从细节到整体上都能达到风格统一，利于维护。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">本文的开发规范由很多item组成，不同的item描述了不同的问题。每一个item就是一条具体的开发规范，违反不同的开发规范，也会引起不同严重程度的后果。就像法律和道德的差异一样，我们必须遵守法律，不然可能带来损人不利己的严重后果，但有些人虽然没有触犯法律，却违背了道德，虽然暂时没有产生严重的后果，长此以往，也会形成一种坏的风气。所以，无论法律和道德，我们都该鞭策自己成为优秀的人，而不该止步于一个合格的人。同理，开发规范也是如此，我们必须遵守那些必须要遵守的开发规范，提倡遵守那些建议你遵守的开发规范。所以，根据约束力度，我们把开发规范暂时划分成两个等级，分别是【必须】、【建议】。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><ul class=" list-paddingleft-2" style=""><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】：必须遵守。是不得不遵守的约定，一旦违反极有可能引起严重后果。</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】：建议遵守。长期遵守这样的约定，有助于维护系统的稳定和提高合作效率。</span></p></li></ul><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"><br  /></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">本文参考了苹果官方编码指南和github上一些知名的编码规范，也算是取众人之所长，集百家之精华的一篇文章。读者可以根据自己的实际需要和兴趣点来选择性的阅读。本文主题部分主要由以下两章(共32节)构成：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"><br  /></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 16px;"><strong>(一) 命名规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><ol class=" list-paddingleft-2" style=""><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">通用命名规范(讲述命名的一些通用规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">缩写规范(讲述常见的缩写以及缩写规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">Method命名规范(讲述方法命名的具体规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">Accessor命名规范(讲述set和get方法的命名规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">Parameter命名规范(讲述参数命名规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">Delegate方法命名规范(讲述delegate方法的命名规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">Private方法命名规范(讲述私有方法的命名规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">Category命名规范(讲述分类的命名规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">Class命名规范(讲述类命名规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">Protocol命名规范(讲述协议的命名规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">Notification命名规范(讲述通知的命名规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">Constant命名规范(讲述枚举常量以及const常量的命名规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">Exception命名规范(讲述异常的命名规范)</span></p></li></ol><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"><br  /></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 16px;"><strong>(二)编码规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><ol class=" list-paddingleft-2" style=""><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">Initialize方法(讲述类的initialize方法的使用规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">Init方法(讲述初始化方法的设计规范包括designated init方法和secondary init方法)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">Init error(讲述init方法初始化对象失败时的错误处理)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">Dealloc规范(讲述dealloc方法的使用规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">Block规范(讲述block的使用规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">Notification规范(讲述通知的使用规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">UI规范(讲述开发UI时的一些规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">IO规范(讲述读写文件时的一些注意事项)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">Collection规范(讲述集合类型的使用规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">分支语句规范(讲述常用的分支语句if、switch语句的编码规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">对象判等规范(讲述常用的判定对象等同性的方法使用规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">懒加载规范(讲述懒加载的使用规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">多线程规范(讲述多线程环境下的一些编码规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">内存管理规范(讲述编码过程中常见的内存管理注意点)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">延迟调用规范(讲述使用延迟方法时注意事项)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">注释规范(讲述编码中注释的使用规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">类的设计规范(讲述类的设计规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">代码组织规范(讲述类中的代码组织规范)</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">工程结构规范(讲述工程的文件组织规范)</span></p></li></ol><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"><br  /></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 20px;"><strong>(一)命名规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">根据Cocoa编码规范里的描述，以前情况下，命名应该遵循以下基本原则：Clarity、Consistency、No Self Reference。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(1.1) 通用命名规则</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">一般情况下，通用命名规则适用于变量、常量、属性、参数、方法、函数等。当然也有例外，下面我们会针对于每一种情况一一列举。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】自我描述性。属性/函数/参数/变量/常量/宏 的命名必须具有自我描述性。杜绝中文拼音、过度缩写、或者无意义的命名方式。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】禁止自我指涉。属性/局部变量/成员变量不要自我指涉。通知和掩码常量(通常指那些可以进行按位运算的枚举值) 除外。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">通俗的讲，自我指涉是指在变量末尾增加了自己类型的一个后缀。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"><br  /></span></p><table width="620"><thead style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><th style="padding: 8px;border-top-width: 1px;border-top-color: rgb(221, 221, 221);box-sizing: border-box;line-height: 20px;vertical-align: middle;">命名</th><th style="padding: 8px;border-top-width: 1px;border-top-color: rgb(221, 221, 221);box-sizing: border-box;line-height: 20px;vertical-align: middle;">说明</th></tr></thead><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">NSString</td><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">规范的写法</td></tr><tr style="box-sizing: border-box;background-color: rgba(181, 181, 181, 0.098);"><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">NSStringObject</td><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">自我指涉（不规范）<br  /><br  /></td></tr></tbody></table><p style="white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">掩码常量、通知除外：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"><br  /></span></p><table width="620"><thead style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><th style="padding: 8px;border-top-width: 1px;border-top-color: rgb(221, 221, 221);box-sizing: border-box;line-height: 20px;vertical-align: middle;">命名</th><th style="padding: 8px;border-top-width: 1px;border-top-color: rgb(221, 221, 221);box-sizing: border-box;line-height: 20px;vertical-align: middle;">说明</th></tr></thead><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">NSUnderlineByWordMask</td><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">规范的写法</td></tr><tr style="box-sizing: border-box;background-color: rgba(181, 181, 181, 0.098);"><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">NSTableViewColumnDidMoveNotification</td><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">规范的写法<br  /><br  /></td></tr></tbody></table><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><span style="font-size: 14px;"></span><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】驼峰命名方式。参数名、成员变量、局部变量、属性名都要采用小写字母开头的驼峰命名方式。如果方法名以一个众所周知的大写缩略词开始，可以不适用驼峰命名方式。比如FTP、WWW等。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】一致性。属性/函数/参数/变量/常量/宏 的命名应该具有上下文或者全局的一致性，相同类型或者具有相同作用的变量的命名方式应该相同或者类似。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">说明：具体来讲，不同文件中或者不同类中具有相同功能或相似功能的属性的命名应该是相同的或者相似的。好处在于：方便后来的开发者减少代码的阅读量和提高对代码的理解速度。比如：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// count同时定义在NSDictionary、NSArray、NSSet这三个集合类中。且这三个集合类中的count属性都代表同一个意思，即集合中对象的个数。</span><br  /><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">@property</span> (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">readonly</span>) <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSUInteger</span> count;<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】清晰性。属性/函数/参数/变量/常量/宏 的命名应该保持清晰+简洁，如果鱼和熊掌不能兼得，那么清晰更重要。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"><br  /></span></p><table><thead><tr><th>命名</th><th>说明</th></tr></thead><tbody><tr><td>insertObject:atIndex:</td><td>规范的写法</td></tr><tr><td>insert:at:</td><td>不清晰，插入什么？at代表什么？</td></tr><tr><td>removeObjectAtIndex:</td><td>规范的写法</td></tr><tr><td>removeObject:</td><td>规范的写法，因为参数指明了要移除一个对象</td></tr><tr><td>remove:</td><td>不清晰，移除什么？</td></tr></tbody></table><p style="white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】一般情况下，不要缩写或省略单词，建议拼写出来，即使它有点长。当然，在保证可读性的同时，for循环中遍历出来的对象或者某些方法的参数可以缩写。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"><br  /></span></p><table width="620"><thead style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><th style="padding: 8px;border-top-width: 1px;border-top-color: rgb(221, 221, 221);box-sizing: border-box;line-height: 20px;vertical-align: middle;">命名</th><th style="padding: 8px;border-top-width: 1px;border-top-color: rgb(221, 221, 221);box-sizing: border-box;line-height: 20px;vertical-align: middle;">说明</th></tr></thead><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">destinationSelection</td><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">规范写法</td></tr><tr style="box-sizing: border-box;background-color: rgba(181, 181, 181, 0.098);"><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">destSel</td><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">不清晰</td></tr><tr style="box-sizing: border-box;"><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">setBackgroundColor:</td><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">规范写法</td></tr><tr style="box-sizing: border-box;background-color: rgba(181, 181, 181, 0.098);"><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">setBkgdColor:</td><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">不清晰<br  /><br  /></td></tr></tbody></table><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><span style="font-size: 14px;"></span><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(1.2) 缩写规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">通常，我们都不应该缩写命名。然而，下面所列举的都是一些众所周知的缩写，我们可以继续使用这些古老的缩写。在其他情况下，我们需要遵循下面两条缩写建议：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><ul class=" list-paddingleft-2" style=""><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">允许使用那些在C语言时代就已经在使用的缩写，比如alloc和getc。</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">我们可以在命名参数的时候使用缩写。其他情况，尽量不要使用缩写。</span></p></li></ul><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"><br  /></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">我们也可以使用计算机行业通用的缩写。包括但不限于HTML、URL、RTF、HTTP、TIFF、JPG、PNG、GIF、LZW、ROM、RGB、CMYK、MIDI、FTP。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(1.3) Method命名规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】方法名也要采用小写字母开头的驼峰命名方式。如果方法名以一个中所周知的大写缩略词开头（比如HTTP），该规则可以忽略。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】一般情况下，不要在方法名称中使用前缀，因为他存在于特定类的命名空间中。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】类、协议、函数、常量、枚举等全局可见内容需要添加三个字符作为前缀。苹果保留对任意两个字符作为前缀的使用权。所以尽量不要使用两个字符作为前缀。禁止使用的前缀包括但不限于：<strong>NS,UI,CG,CF,CA,WK,MK,CI,NC</strong>。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】禁止在方法前面加下划线“ _ ”。Apple官网团队经常在方法前面加下划线"_"。为了避免方法覆盖，导致不可预知的意外，禁止在方法前面加下划线。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】自我描述性。方法的命名也应该具有自我描述性。杜绝中文拼音、过度缩写、或者无意义的命名方式。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】一致性。方法的命名也应该具有上下文或者全局的一致性，相同类型或者具有相同作用的方法的命名方式应该相同或者类似。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 该方法同时定义在NSView、NSControl、NSCell这三个类里面。</span><br  />- (<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSInteger</span>)tag;<br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 该属性同时定义在NSDcitionary和NSArray中。</span><br  /><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">@property</span> (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">readonly</span>) <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSUInteger</span> count;<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】苹果爸爸说：如果一个方法代表某个名词执行的动作，则该方法应该以一个动词开头。如下：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;">- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)invokeWithTarget:(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">id</span>)target;<br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)selectTabViewItem:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSTabViewItem</span> *)tabViewItem<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】苹果爸爸还说：如果方法代表对象接收的动作，那么方法一动词开头。但不要使用“do”或者"does"作为方法名称的一部分，因为这些助动词不能为方法名称增加太多的意义，反而让方法看起来更加臃肿。同时，也请不要在动词前面使用副词或者形容词。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】如果方法返回接收者的某个属性，那么请直接以属性名作为方法名。如果方法间接的返回一个或多个值，我们可以使用“getxxx”的方式来命名方法。相反，无需额外的在方法名前面添加"get"。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"></span></p><table width="620"><thead style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><th style="padding: 8px;border-top-width: 1px;border-top-color: rgb(221, 221, 221);box-sizing: border-box;line-height: 20px;vertical-align: middle;">命名</th><th style="padding: 8px;border-top-width: 1px;border-top-color: rgb(221, 221, 221);box-sizing: border-box;line-height: 20px;vertical-align: middle;">说明</th></tr></thead><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">- (NSSize)cellSize;</td><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">OK</td></tr><tr style="box-sizing: border-box;background-color: rgba(181, 181, 181, 0.098);"><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">- (NSSize)calcCellSize;</td><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">不OK</td></tr><tr style="box-sizing: border-box;"><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">- (NSSize)getCellSize;</td><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">不OK<br  /><br  /></td></tr></tbody></table><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"></span><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】只有当方法间接的返回对象或数值，才有必要在方法名称中使用“get”，这种格式只适用于返回多个数据项的情况。如下：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 通过传入指针，来获得多个值</span><br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)getLineDash:(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">float</span> *)pattern count:(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">int</span>*)count phase:(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">float</span> *)phase;<br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// NSURLCache (NSURLSessionTaskAdditions)中声明的方法</span><br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)getCachedResponseForDataTask:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSURLSessionDataTask</span> *)dataTask completionHandler:(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span> (^) (<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSCachedURLResponse</span> * __<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">nullable</span> cachedResponse))completionHandler;<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】所有参数前面都应该添加关键字，除非你能保证每个人都能意会到你的精神。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"></span></p><table><thead><tr><th>命名</th><th>说明</th></tr></thead><tbody><tr><td>- (void)sendAction:(SEL)aSelector toObject:(id)anObject forAllCells:(BOOL)flag;</td><td>OK</td></tr><tr><td>- (void)sendAction:(SEL)aSelector :(id)anObject :(BOOL)flag;</td><td>不OK</td></tr></tbody></table><p style="white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】苹果爸爸说：参数之前的单词尽量能描述参数的意义。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"></span></p><table width="620"><thead style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><th style="padding: 8px;border-top-width: 1px;border-top-color: rgb(221, 221, 221);box-sizing: border-box;line-height: 20px;vertical-align: middle;">命名</th><th style="padding: 8px;border-top-width: 1px;border-top-color: rgb(221, 221, 221);box-sizing: border-box;line-height: 20px;vertical-align: middle;">说明</th></tr></thead><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">- (id)viewWithTag:(NSInteger)aTag;</td><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">OK</td></tr><tr style="box-sizing: border-box;background-color: rgba(181, 181, 181, 0.098);"><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">- (id)taggedView:(int)aTag;</td><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">不OK<br  /><br  /></td></tr></tbody></table><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"></span><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】如果当前子类创建的方法比从父类继承来的方法更加具体明确。本身提供的方法更具有针对性。则不该重写类本身提供的方法。而是应该单独的提供一个方法，并在新的方法后面添加上必要的关键参数。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"></span></p><table><thead><tr><th>命名</th><th>说明</th></tr></thead><tbody><tr><td>- (id)initWithFrame:(CGRect)frameRect;</td><td>NSView, UIView.</td></tr><tr><td>- (id)initWithFrame:(NSRect)frameRect mode:(int)aMode cellClass:(Class)factoryId numberOfRows:(int)rowsHigh numberOfColumns:(int)colsWide;</td><td style="word-break: break-all;">NSMatrix, a subclass of NSView</td></tr></tbody></table><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// UIView提供的方法</span><br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">instancetype</span>)initWithFrame:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">CGRect</span>)frame<br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 更具针对性的方法</span><br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">instancetype</span>)initWithFrame:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">CGRect</span>)frame mode:(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">int</span>)aMode cellClass:(Class)factory Id numberOfRows:(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">int</span>)rows numberOfColumns:(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">int</span>)cols;<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】请不要使用“and”连接接收者属性。尽管and在下面的例子中读起来还算顺口，但随着你创建的方法参数的增加，这将会带来一系列的问题。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"></span></p><table><thead><tr><th>命名</th><th>说明</th></tr></thead><tbody><tr><td>- (int)runModalForDirectory:(NSString *)path file:(NSString *) name types:(NSArray *)fileTypes;</td><td>OK</td></tr><tr><td>- (int)runModalForDirectory:(NSString *)path andFile:(NSString *)name andTypes:(NSArray *)fileTypes;</td><td>不OK</td></tr></tbody></table><p style="white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】如果方法描述了两个独立的动作，可以使用“and”连接起来。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"></span></p><table width="620"><thead style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><th style="padding: 8px;border-top-width: 1px;border-top-color: rgb(221, 221, 221);box-sizing: border-box;line-height: 20px;vertical-align: middle;">命名</th><th style="padding: 8px;border-top-width: 1px;border-top-color: rgb(221, 221, 221);box-sizing: border-box;line-height: 20px;vertical-align: middle;">说明</th></tr></thead><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">- (int)runModalForDirectory:(NSString *)path andFile:(NSString *)name andTypes:(NSArray *)fileTypes;</td><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">OK （NSWorkspace. ）<br  /><br  /></td></tr></tbody></table><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"></span><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(1.4) Accessor命名规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">Accessor Methods是指set、get方法。这些方法有一些推荐写法格式：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】如果属性是名词，推荐格式如下：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs diff" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-deletion" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">- (type)noun;</span><br  /><span class="hljs-deletion" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">- (void)setNoun:(type)aNoun;</span><br  />例如：<br  /><span class="hljs-deletion" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">- (NSString *)title;</span><br  /><span class="hljs-deletion" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">- (void)setTitle:(NSString *)aTitle;</span><br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】如果属性表示一个形容词，推荐格式如下：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;">- (<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">BOOL</span>)isAdjective;<br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)setAdjective:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">BOOL</span>)flag;<br  />例如：<br  />- (<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">BOOL</span>)isEditable;<br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)setEditable:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">BOOL</span>)flag;<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】如果属性是一个动词，动词使用一般现在时。推荐格式如下：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;">- (<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">BOOL</span>)verbObject;<br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)setVerbObject:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">BOOL</span>)flag;<br  />例如：<br  />- (<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">BOOL</span>)showsAlpha;<br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)setShowsAlpha:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">BOOL</span>)flag;<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】不要把动词的过去分词形式当做形容词来使用。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"></span></p><p style="white-space: normal;"><br  /></p><table><thead><tr><th>命名</th><th>说明</th></tr></thead><tbody><tr><td>- (void)setAcceptsGlyphInfo:(BOOL)flag;</td><td>OK</td></tr><tr><td>- (BOOL)acceptsGlyphInfo;</td><td>OK</td></tr><tr><td>- (void)setGlyphInfoAccepted:(BOOL)flag;</td><td>不OK</td></tr><tr><td>- (BOOL)glyphInfoAccepted;</td><td>不OK</td></tr></tbody></table><p><br  /></p><p><br  /></p><table><thead><tr><th>命名</th><th>说明</th></tr></thead><tbody><tr><td>- (void)setCanHide:(BOOL)flag;</td><td>OK</td></tr><tr><td>- (BOOL)canHide;</td><td>OK</td></tr><tr><td>- (void)setShouldCloseDocument:(BOOL)flag;</td><td>OK</td></tr><tr><td>- (BOOL)shouldCloseDocument;</td><td>OK</td></tr><tr><td>- (void)setDoesAcceptGlyphInfo:(BOOL)flag;</td><td>不OK</td></tr><tr><td>- (BOOL)doesAcceptGlyphInfo;</td><td>不OK</td></tr></tbody></table><p style="white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】可以使用情态动词（can、should、will等）明确方法意义，但不要使用do、does这类无意义的情态动词。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"></span></p><table><thead><tr><th>命名</th><th>说明</th></tr></thead><tbody><tr><td>- (void)setCanHide:(BOOL)flag;</td><td>OK</td></tr><tr><td>- (BOOL)canHide;</td><td>OK</td></tr><tr><td>- (void)setShouldCloseDocument:(BOOL)flag;</td><td>OK</td></tr><tr><td>- (BOOL)shouldCloseDocument;</td><td>OK</td></tr><tr><td>- (void)setDoesAcceptGlyphInfo:(BOOL)flag;</td><td>不OK</td></tr><tr><td>- (BOOL)doesAcceptGlyphInfo;</td><td>不OK</td></tr></tbody></table><p style="white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】只有方法间接的返回一个数值，或者需要多个数值需要被返回的时候，才有必要在方法名称中使用“get”。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">像这种接收多个参数的方法应该能够传入nil，因为调用者未必对每个参数都感兴趣</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs cpp" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"> - (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)getLineDash:(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">float</span> *)pattern count:(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">int</span> *)count phase:(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">float</span> *)phase;<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(1.5) Parameter命名规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】不要使用 ”pointer” 或 ”ptr” 命名参数，应该使用参数类型而非它的名字来代表他是否是一个指针。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(1.6) Delegate方法命名规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">delegate methods 又叫做delegation methods，如果delegate对象实现了另一个对象的delegate方法，那么这个对象就可以在它自己某个指定的事件发生时调用delegate对象的delegate方法。delegate方法的命名有一些与众不同的格式：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】以触发消息的对象名开头，省略类名前缀并且首字母小写：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;">- (<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">BOOL</span>)tableView:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSTableView</span> *)tableView shouldSelectRow:(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">int</span>)row;<br  />- (<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">BOOL</span>)application:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSApplication</span> *)sender openFile:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSString</span> *)filename;<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】除非delegate方法只有一个参数，即触发delegate方法调用的delegating对象，否则冒号是紧跟在类名后面的。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;">- (<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">BOOL</span>)applicationOpenUntitledFile:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSApplication</span> *)sender;<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】发送通知后再触发delegate方法是一个例外：当delegate方法的调用是为了告诉delegate对象，某个通知已经被发送时，这个delegate方法的参数应该是通知对象，而非触发delegate方法的对象。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;">- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)windowDidChangeScreen:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSNotification</span> *)notification;<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】使用did或will这两个情态动词通知delegate对象某件事已经发生或将要发生。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;">- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)browserDidScroll:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSBrowser</span> *)sender;<br  />- (<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSUndoManager</span> *)windowWillReturnUndoManager:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSWindow</span> *)window;<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】虽然我们可以在delegate方法中使用did和will来询问delegate是否可以代替另一个对象做某件事情，但是使用should看起来更加完美。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;">- (<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">BOOL</span>)windowShouldClose:(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">id</span>)sender;<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(1.7) Private方法命名规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">大部分情况下，私有方法的命名和公有方法的命名规则是一样的。然而，通常情况下应该给私有方法添加一个前缀，目的是和公有方法区分开。尽管这样，这种给私有方法加前缀的命名方式有可能引起一些奇怪的问题。问题就是：当你从Cocoa framework（即Cocoa系统库）中的某个类派生出来一个子类时，你并不知道你的子类中定义的私有方法是否覆盖了父类的私有方法，即有可能你自己在子类中实现的私有方法和父类中的某个私有方法同名。在运行时，这极有可能导致一些莫名其妙的问题，并且调试追踪问题的难度也是相当大。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">Cocoa frameworks（Cocoa系统库）中的私有方法通常以一个下划线“ _ ”开头，用于标记这些方法是私有的(比如， _fooData ) 。不要问我为什么他们这么做，这大概就是Apple工程师的开发习惯。基于这个事实，提供以下两条建议：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】禁止使用下划线“ _ “作为私有方法的开头。Apple已经预留这种私有方法的命名习惯。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】如果你是要子类化Cocoa Frameworks中的一个非常庞大复杂的类（比如NSView或UIView），并且你想绝对的确保你自己的子类中的私有方法名和父类中的私有方法名不重复。你可以添加一个你自己的前缀作为私有方法的前缀，这个前缀应该尽可能的独特。也许这个前缀是基于你公司或者项目的缩写，比如”XX_“。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">尽管给私有方法增加前缀看起来和”方法存在于他们的类的命名空间中“这一之前的说法有些冲突，但此处的意图是：为子类私有方法添加前缀仅仅是为了保证子类方法和父类方法名称不冲突。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】不要在参数的名称中使用“pointer”或者"ptr"。应该使用参数的类型来说明参数是否是一个指针。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】不要使用一到两个字符作为参数名。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】不要对参数的每个单词都缩写。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】如果调用某个方法是为了通知delegate某个事件"即将"发生或者"已经"发生，则请在方法名称中使用“will”或者“did”这样的助动词。例如：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;">- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)applicationWillResignActive:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">UIApplication</span> *)application;<br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)applicationDidEnterBackground:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">UIApplication</span> *)application;<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】如果调用某个方法是为了要求delegate代表其他对象执行某件事情，我们应该在方法中使用“should”这样的情态动词。当然，也可以在方法中使用“did”或者“will”这样的字眼，但更倾向于前者。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;">- (<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">BOOL</span>)tableViewSholdScroll:(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">id</span>)sender;<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><strong><span style="font-size: 18px;">(1.8) Category命名规范</span></strong></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】category中不要声明属性和成员变量。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】避免category中的方法覆盖系统方法。可以使用前缀来区分系统方法和category方法。但前缀不要仅仅使用下划线”_“。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】如果一个类比较复杂，建议使用category的方式组织代码。具体可以参考UIView。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><strong><span style="font-size: 18px;">1.9 Class命名规范</span></strong></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】class的名称应该由两部分组成，前缀+名称。即，class的名称应该包含一个前缀和一个名词。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><strong><span style="font-size: 18px;">(1.10) Protocol命名规范</span></strong></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"></span></p><table width="620"><thead style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><th style="padding: 8px;border-top-width: 1px;border-top-color: rgb(221, 221, 221);box-sizing: border-box;line-height: 20px;vertical-align: middle;">命名</th><th style="padding: 8px;border-top-width: 1px;border-top-color: rgb(221, 221, 221);box-sizing: border-box;line-height: 20px;vertical-align: middle;">说明</th></tr></thead><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">NSLocking</td><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">OK</td></tr><tr style="box-sizing: border-box;background-color: rgba(181, 181, 181, 0.098);"><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">NSLock</td><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">不好，看起来像是一个类名<br  /><br  /></td></tr></tbody></table><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"></span><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】有时候protocol只是声明了一堆相关方法，并不关联class。这种不关联class的protocol使用ing形式以和class区分开来。比如NSLocking而非NSLock。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"></span></p><table width="620"><thead style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><th style="padding: 8px;border-top-width: 1px;border-top-color: rgb(221, 221, 221);box-sizing: border-box;line-height: 20px;vertical-align: middle;">命名</th><th style="padding: 8px;border-top-width: 1px;border-top-color: rgb(221, 221, 221);box-sizing: border-box;line-height: 20px;vertical-align: middle;">说明</th></tr></thead><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">NSLocking</td><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">OK</td></tr><tr style="box-sizing: border-box;background-color: rgba(181, 181, 181, 0.098);"><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">NSLock</td><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">不好，看起来像是一个类名<br  /><br  /></td></tr></tbody></table><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"></span><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"></span></p><table width="620"><thead style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><th style="padding: 8px;border-top-width: 1px;border-top-color: rgb(221, 221, 221);box-sizing: border-box;line-height: 20px;vertical-align: middle;">命名</th><th style="padding: 8px;border-top-width: 1px;border-top-color: rgb(221, 221, 221);box-sizing: border-box;line-height: 20px;vertical-align: middle;">说明</th></tr></thead><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">UITableViewDelegate</td><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">OK</td></tr><tr style="box-sizing: border-box;background-color: rgba(181, 181, 181, 0.098);"><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">NSObjectProtocol</td><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">OK<br  /><br  /></td></tr></tbody></table><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"></span><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】如果proctocol不仅声明了一堆相关方法，还关联了某个class。这种关联class的protocol的命名取决于关联的class，然后再后面再加上protocol或delegate用于显示的声明这是一份协议。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"></span></p><table width="620"><thead style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><th style="padding: 8px;border-top-width: 1px;border-top-color: rgb(221, 221, 221);box-sizing: border-box;line-height: 20px;vertical-align: middle;">命名</th><th style="padding: 8px;border-top-width: 1px;border-top-color: rgb(221, 221, 221);box-sizing: border-box;line-height: 20px;vertical-align: middle;">说明</th></tr></thead><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">UITableViewDelegate</td><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">OK</td></tr><tr style="box-sizing: border-box;background-color: rgba(181, 181, 181, 0.098);"><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">NSObjectProtocol</td><td style="padding: 8px;box-sizing: border-box;line-height: 20px;vertical-align: middle;">OK<br  /><br  /></td></tr></tbody></table><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"></span><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><strong><span style="font-size: 18px;">(1.11) Notification命名规范</span></strong></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】苹果爸爸说：如果一个类声明了delegate属性，通常情况下，这个类的delegate对象可以通过实现的delegate方法收到大部分通知消息。那么，这些通知的名称应该反映出对应的delegate方法。比如，application对象发送的NSApplicationDidBecomeActiveNotification通知和对应的applicationDidBecomeActive:消息。其实，这也算是命名的一致性要求。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】notification的命名使用全局的NSString字符串进行标识。命名方式如下：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">[Name of associated class] + [Did | Will] + [UniquePartOfName] + Notification</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">例如：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSApplicationDidBecomeActiveNotification</span><br  /><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSWindowDidMiniaturizeNotification</span><br  /><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSTextViewDidChangeSelectionNotification</span><br  /><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSColorPanelColorDidChangeNotification</span><br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】object通常是指发出notification的对象，如果在发送notification的同时要传递一些额外的信息，请使用userInfo，而不是object。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】如果某个通知是为了告知外界某个事件"即将"发生或者"已经"发生，则请在通知名称中使用“will”或者“did”这样的助动词。例如：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">UIKeyboardWillChangeFrameNotification</span>;<br  /><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">UIKeyboardDidChangeFrameNotification</span>;<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(1.12) Constant命名规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 16px;"><strong>(1.12.1) 枚举常量</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】使用枚举类型来表示一组相关的整型常量。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】枚举常量和typedef定义的枚举类型的命名规范同函数的命名规范一致。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">typedef</span> <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">enum</span> _NSMatrixMode {<br  /> &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSRadioModeMatrix</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = <span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">0</span>,<br  /> &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSHighlightModeMatrix</span> &nbsp; &nbsp; &nbsp; = <span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">1</span>,<br  /> &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSListModeMatrix</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= <span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">2</span>,<br  /> &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSTrackModeMatrix</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = <span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">3</span><br  />} <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSMatrixMode</span>;<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">注意：上面枚举typeof中的_NSMatrixMode是无用的。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">我们可以像位掩码(bit masks)一样创建一个匿名枚举，如下：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">enum</span> {<br  /> &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSBorderlessWindowMask</span> &nbsp; &nbsp; &nbsp;= <span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">0</span>,<br  /> &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSTitledWindowMask</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= <span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">1</span> &lt;&lt; <span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">0</span>,<br  /> &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSClosableWindowMask</span> &nbsp; &nbsp; &nbsp; &nbsp;= <span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">1</span> &lt;&lt; <span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">1</span>,<br  /> &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSMiniaturizableWindowMask</span> &nbsp;= <span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">1</span> &lt;&lt; <span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">2</span>,<br  /> &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSResizableWindowMask</span> &nbsp; &nbsp; &nbsp; = <span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">1</span> &lt;&lt; <span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">3</span><br  />};<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 16px;"><strong>(1.12.2) 使用const关键字创建常量</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】使用const关键字创建浮点型常量。你也可以使用const来创建和其他常量不相关的整型常量。否则，请使用枚举类型来创建。即，如果一个整型常量和其他常量不相关，可以使用const来创建，否则，使用枚举类型表示一组相关的整型常量。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">以下例子声明了const常量的格式：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">const</span> <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">float</span> <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSLightGray</span>;<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 16px;"><strong>1.12.3 其他常量类型</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】通常情况下，不要使用#define预处理命令(preprocessor command)创建常量。正如上面所说，对于整型常量，使用枚举创建；对于浮点型常量，使用const修饰符创建。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】有些符号需要使用大写字母标识。预处理器需要根据这个符号进行计算以便决定是否要对某一块代码进行处理。比如：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs cpp" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-meta" style="font-size: inherit;line-height: inherit;color: rgb(91, 218, 237);word-wrap: inherit !important;word-break: inherit !important;">#<span class="hljs-meta-keyword" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;">ifdef</span> DEBUG</span><br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">注意：那些编译器定义的宏，左侧和右侧各有两个下划线。如下：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs markdown" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-strong" style="font-size: inherit;color: inherit;line-height: inherit;font-weight: bold;word-wrap: inherit !important;word-break: inherit !important;">__MACH__</span><br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】通知的名字和字典的key，应该使用字符串常量来定义。使用字符串常量编译器可以进行检查，这样可以避免拼写错误。Cocoa 系统库提供了许多字符串常量的例子，比如：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;">APPKIT_EXTERN <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSString</span> *<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSPrintCopies</span>;<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">字符串常量应该在.h头文件中暴露给外部，而字符串常量真正的赋值是在.m文件中。如下：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;">.h文件<br  /><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">extern</span> <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSString</span> *<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">const</span> WSNetworkReachablityStatusDidChangedNotification;<br  />.m文件<br  /><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSString</span> * <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">const</span> WSNetworkReachablityStatusDidChangedNotification = <span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);word-wrap: inherit !important;word-break: inherit !important;">@"WSNetworkReachablityStatusDidChangedNotification"</span>;<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(1.13) Exception命名规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong><br  /></strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">上面已经有一节介绍过通知的命名规范。异常和通知的命名遵循相似的规则，但又各有不同。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】和Notification的命名规范一样(可参考Notification命名规范一节)，异常也是用全局的NSString字符串进行标识。命名方式如下：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">[Prefix] + [UniquePartOfName] + Exception</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">相当于异常由前缀、名称中能够标识异常唯一性的那部分、Exception。如下：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSColorListIOException</span><br  /><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSColorListNotEditableException</span><br  /><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSDraggingException</span><br  /><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSFontUnavailableException</span><br  /><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSIllegalSelectorException</span><br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 20px;"><strong>(二)编码规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(2.1) Initialize规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><ul class=" list-paddingleft-2" style=""><li><p><span style="font-size: 14px;">(void)initialize类方法先于其他的方法调用。且initialize方法给我们提供了一个让代码once、lazy执行的地方。initialize通常被用于设置class的版本号(参考&nbsp;Versioning and Compatibility)。(https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/CodingGuidelines/Articles/FrameworkImpl.html#//apple_ref/doc/uid/20001286-1001777)</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">initialize方法的调用遵循继承规则(所谓继承规则，简单来讲是指：子类方法中可以调用到父类的同名方法，即使没有调用[super xxx])。如果我们没有实现initialize方法，运行时初次调用这个类的时候，系统会沿着继承链(类继承体系)，先后给继承链上游中的每个超类发送一条initialize消息，直到某个超类实现了initlialize方法，才会停止向上调用。因此，在运行时，某个类的initialize方法可能会被调用多次(比如，如果一个子类没有实现initialize方法)。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">比如：有三个类：SuperClass、SubClass和FinalClass。他们的继承关系是这样的FinalClass-&gt;SubClass-&gt;SuperClass，现只实现了SuperClass方法的initialize方法。</span></p></li></ul><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// SuperClass</span><br  /><span class="hljs-class" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">@implementation</span> <span class="hljs-title" style="font-size: inherit;line-height: inherit;color: rgb(165, 218, 45);word-wrap: inherit !important;word-break: inherit !important;">SuperClass</span></span><br  />+ (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)initialize {<br  /> &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSLog</span>(<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);word-wrap: inherit !important;word-break: inherit !important;">@"superClass initalize"</span>);<br  />}<br  /><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">@end</span><br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 初始化FinalClass</span><br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)touchesBegan:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSSet</span>&lt;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">UITouch</span> *&gt; *)touches withEvent:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">UIEvent</span> *)event {<br  /> &nbsp; &nbsp;FinalClass *finalC = [FinalClass new];<br  />}<br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 控制台输出结果</span><br  /><span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">2018</span><span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">-01</span><span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">-27</span> <span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">22</span>:<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">11</span>:<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">03.130365</span>+<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">0800</span> Demo[<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">67162</span>:<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">11721965</span>] superClass initalize<br  /><span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">2018</span><span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">-01</span><span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">-27</span> <span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">22</span>:<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">11</span>:<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">03.130722</span>+<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">0800</span> Demo[<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">67162</span>:<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">11721965</span>] superClass initalize<br  /><span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">2018</span><span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">-01</span><span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">-27</span> <span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">22</span>:<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">11</span>:<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">03.130815</span>+<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">0800</span> Demo[<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">67162</span>:<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">11721965</span>] superClass initalize<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">解释：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">因为FinalClass继承自SubClass，SubClass继承自SuperClass。因为继承体系中只有SuperClass实现了initialize方法，导致初始化FinalClass这个子类时，FinalClass会调用他的父类(SubClass)中的initialize方法。又因为他(FinalClass)的父类(SubClass)也没有实现initialize方法，又会继续沿着继承体系，向上游寻找，最后找到SubClass的父类(SuperClass)。因为SuperClass实现了这个initialize方法，所以调用结束。至于为什么是连续调用了三次SuperClass的initialize方法。因为子类FinalClass的初始化触发了超类SubClass、SuperClass的初始化。所以初始化FinalClass时，实际上使这三个类都得到了初始化的机会，自然就会连续调用三次SuperClass的initialize方法。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">还是上面那三个类，如果我们又给SubClass实现了initialize方法，那么控制台将会输出如下结果(至于为什么，前面已经介绍过了，大家可以自己分析下)：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs css" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;">2018<span class="hljs-selector-tag" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">-01-27</span> 22<span class="hljs-selector-pseudo" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;">:34</span><span class="hljs-selector-pseudo" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;">:54.697952+0800</span> <span class="hljs-selector-tag" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">Load</span><span class="hljs-selector-attr" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;">[67652:11780578]</span> <span class="hljs-selector-tag" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">superClass</span> <span class="hljs-selector-tag" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">initalize</span><br  />2018<span class="hljs-selector-tag" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">-01-27</span> 22<span class="hljs-selector-pseudo" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;">:34</span><span class="hljs-selector-pseudo" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;">:54.698118+0800</span> <span class="hljs-selector-tag" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">Load</span><span class="hljs-selector-attr" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;">[67652:11780578]</span> <span class="hljs-selector-tag" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">subClass</span> <span class="hljs-selector-tag" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">initialize</span><br  />2018<span class="hljs-selector-tag" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">-01-27</span> 22<span class="hljs-selector-pseudo" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;">:34</span><span class="hljs-selector-pseudo" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;">:54.698472+0800</span> <span class="hljs-selector-tag" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">Load</span><span class="hljs-selector-attr" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;">[67652:11780578]</span> <span class="hljs-selector-tag" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">subClass</span> <span class="hljs-selector-tag" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">initialize</span><br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">基于上面陈述的这些事实，我们得出一个结论：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】如果我们想要让initialize方法仅仅被调用一次，那么需要借助于GCD的dispatch_once()。如下：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;">+ (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)initialize {<br  /> &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">static</span> <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">dispatch_once_t</span> onceToken = <span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">0</span>;<br  /> &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">dispatch_once</span>(&amp;onceToken, ^{<br  /> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// the initializing code</span><br  /> &nbsp; &nbsp;}<br  />}<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】如果我们想在继承体系的某个指定的类的initialize方法中执行一些初始化代码，可以使用类型检查和而非dispatch_once()。如下：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;letter-spacing: 0px;white-space: normal;color: rgb(62, 62, 62);line-height: 1.6;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;font-size: inherit;color: inherit;line-height: inherit;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">if</span> (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span> == [<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSFoo</span> <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">class</span>]) {<br  /> &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// the initializing code</span><br  />}<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">说了这么多，总而言之，由于任何子类都会调用父类的initialize方法，所以可能会导致某个父类的initialize方法会被调用多次，为了避免这种情况，我们可以使用类型判等或dispatch_once()这两种方式，以保证initialize中的代码不会被无辜调用。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">initialize是由系统自动调用的方法，我们不应该显示或手动调用initialize方法。如果我们要触发某个类的初始化行为，应该调用这个类的一些无害的方法。比如：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"></span></p><section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"><pre style="font-size: inherit;color: inherit;line-height: inherit;margin-top: 0px;margin-bottom: 0px;padding: 0px;"><code class="hljs ini" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-section" style="font-size: inherit;line-height: inherit;color: rgb(165, 218, 45);word-wrap: inherit !important;word-break: inherit !important;">[NSImage self]</span><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">;</span></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"><br  /></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(2.2 )Init方法规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">Objective-C有designated Initializers和secondary Initializers的概念。designated Initializers叫做指定初始化方法。《Effective Objective-C 2.0 编写高质量iOS 与 OS X代码的52个有效方法》中将designated Initializers翻译为”全能初始化方法“。designated Initializers方法是指类中为对象提供必要信息以便其能完成工作的初始化方法。一个类可以有一个或者多个designated Initializers。但是要保证所有的其他secondary initializers都要调用designated Initializers。即：只有designated Initializers才会存储对象的信息。这样的好处是：当这个类底层的某些数据存储机制发生变化时(可能是一些property的变更)，只需要修改这个designated Initializers内部的代码即可。无需改动其他secondary Initializers初始化方法的代码。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】所有secondary 初始化方法都应该调用designated 初始化方法。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】所有子类的designated初始化方法都要调用父类的designated初始化方法。使这种调用关系沿着类的继承体系形成一条链。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】如果子类的designated初始化方法与超类的designated初始化方法不同，则子类应该覆写超类的designated初始化方法。（因为开发者很有可能直接调用超类的某个designated方法来初始化一个子类对象，这样也是合情合理的，但使用超类的方法初始化子类，可能会导致子类在初始化时缺失一些必要信息）。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】如果超类的某个初始化方法不适用于子类，则子类应该覆写这个超类的方法，并在其中抛出异常。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】禁止子类的designated初始化方法调用父类的secondary初始化方法。否则容易陷入方法调用死循环。如下：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"><pre style="font-size: inherit;color: inherit;line-height: inherit;margin-top: 0px;margin-bottom: 0px;padding: 0px;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 超类</span><br  /><span class="hljs-class" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">@interface</span> <span class="hljs-title" style="font-size: inherit;line-height: inherit;color: rgb(165, 218, 45);word-wrap: inherit !important;word-break: inherit !important;">ParentObject</span> : <span class="hljs-title" style="font-size: inherit;line-height: inherit;color: rgb(165, 218, 45);word-wrap: inherit !important;word-break: inherit !important;">NSObject</span></span><br  /><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">@end</span><br  /> <span class="hljs-class" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">@implementation</span> <span class="hljs-title" style="font-size: inherit;line-height: inherit;color: rgb(165, 218, 45);word-wrap: inherit !important;word-break: inherit !important;">ParentObject</span></span><br  /> &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">//designated initializer &nbsp; &nbsp;</span><br  /> &nbsp; &nbsp;- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">instancetype</span>)initWithURL:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSString</span>*)url title:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSString</span>*)title {<br  /> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">if</span> (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span> = [<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">super</span> init]) {<br  /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_url = [url <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">copy</span>];<br  /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_title = [title <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">copy</span>];<br  /> &nbsp; &nbsp; &nbsp; &nbsp;}<br  /> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">return</span> <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span>;<br  /> &nbsp; &nbsp;}<br  /> &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">//secondary initializer</span><br  /> &nbsp; &nbsp;- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">instancetype</span>)initWithURL:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSString</span>*)url {<br  /> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">return</span> [<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span> initWithURL:url title:<span class="hljs-literal" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">nil</span>];<br  /> &nbsp; &nbsp;}<br  /> &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">@end</span><br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 子类</span><br  /><span class="hljs-class" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">@interface</span> <span class="hljs-title" style="font-size: inherit;line-height: inherit;color: rgb(165, 218, 45);word-wrap: inherit !important;word-break: inherit !important;">ChildObject</span> : <span class="hljs-title" style="font-size: inherit;line-height: inherit;color: rgb(165, 218, 45);word-wrap: inherit !important;word-break: inherit !important;">ParentObject</span></span><br  /><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">@end</span><br  /> &nbsp; &nbsp;<span class="hljs-class" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">@implementation</span> <span class="hljs-title" style="font-size: inherit;line-height: inherit;color: rgb(165, 218, 45);word-wrap: inherit !important;word-break: inherit !important;">ChildObject</span></span><br  /> &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">//designated initializer</span><br  /> &nbsp; &nbsp;- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">instancetype</span>)initWithURL:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSString</span>*)url title:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSString</span>*)title {<br  /> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">//在designated intializer中调用 secondary initializer，错误的</span><br  /> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">if</span> (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span> = [<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">super</span> initWithURL:url]) {<br  /> &nbsp; &nbsp; &nbsp; &nbsp;}<br  /> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">return</span> <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span>;<br  /> &nbsp; &nbsp;}<br  /> &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">@end</span><br  /> <span class="hljs-class" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">@implementation</span> <span class="hljs-title" style="font-size: inherit;line-height: inherit;color: rgb(165, 218, 45);word-wrap: inherit !important;word-break: inherit !important;">ViewController</span></span><br  /> &nbsp; &nbsp;- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)viewDidLoad {<br  /> &nbsp; &nbsp; &nbsp; &nbsp;[<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">super</span> viewDidLoad];<br  /> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 这里会死循环</span><br  /> &nbsp; &nbsp; &nbsp; &nbsp;ChildObject* child = [[ChildObject alloc] initWithURL:<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);word-wrap: inherit !important;word-break: inherit !important;">@"url"</span> title:<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);word-wrap: inherit !important;word-break: inherit !important;">@"title"</span>];<br  /> &nbsp; &nbsp;}<br  /> &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">@end</span><br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】另外禁止在init方法中使用self.xxx的方式访问属性。如果存在继承的情况下，很有可能导致崩溃。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(2.3) Init error</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">一个好的初始化方法应该具备以下几个方面，在初始化阶段就能够发现错误并给予处理，也就是初始化方法应该具备一些必要的容错功能。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】调用父类的designated初始化方法初始化本类的对象。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】校验父类designated初始化方法返回的对象是否为nil。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】如果初始化当前对象的时候发生了错误，应该给予对应的处理：释放对象，并返回nil。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">以下实例列举类初始化阶段可能会存在的错误：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"><pre style="font-size: inherit;color: inherit;line-height: inherit;margin-top: 0px;margin-bottom: 0px;padding: 0px;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;">- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">id</span>)init {<br  /> &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span> = [<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">super</span> init]; &nbsp;<span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// Call a designated initializer here.</span><br  /> &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">if</span> (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span> != <span class="hljs-literal" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">nil</span>) {<br  /> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// Initialize object &nbsp;...</span><br  /> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">if</span> (someError) {<br  /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span> release];<br  /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span> = <span class="hljs-literal" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">nil</span>;<br  /> &nbsp; &nbsp; &nbsp; &nbsp;}<br  /> &nbsp; &nbsp;}<br  /> &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">return</span> <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span>;<br  />}<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(2.4) dealloc规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】不要忘记在dealloc方法中移除通知和KVO。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】dealloc 方法应该放在实现文件的最上面，并且刚好在 @synthesize 和 @dynamic 语句的后面。在任何类中，init 都应该直接放在 dealloc 方法的下面。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】在dealloc方法中，禁止将self作为参数传递出去，如果self被retain住，到下个runloop周期再释放，则会造成多次释放crash。如下：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"><pre style="font-size: inherit;color: inherit;line-height: inherit;margin-top: 0px;margin-bottom: 0px;padding: 0px;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;">-(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)dealloc{<br  /> &nbsp; &nbsp;[<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span> unsafeMethod:<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span>];<br  /> &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 因为当前已经在self这个指针所指向的对象的销毁阶段，销毁self所指向的对象已经在所难免。如果在unsafeMethod:中把self放到了autorelease poll中，那么self会被retain住，计划下个runloop周期在进行销毁。但是dealloc运行结束后，self所指向的对象的内存空间就直接被回收了，但是self这个指针还没有销毁(即没有被置为nil)，导致self变成了一个名副其实的野指针。</span><br  /> &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 到了下一个runloop周期，因为self所指向的对象已经被销毁，会因为非法访问而造成crash问题。</span><br  />}<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】和init方法一样，禁止在dealloc方法中使用self.xxx的方式访问属性。如果存在继承的情况下，很有可能导致崩溃。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(2.5) Block规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】调用block时需要对block判空。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】注意block潜在的引用循环。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(2.6) Notification规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">前面在命名规范一章中已经介绍了通知的命名规范，这里解释的是通知的使用规范。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">通知作为观察者模式的一个落地产物，在开发中能够实现一对多的通信。所有可以使用delegate和block实现的通信和传值，都可以使用通知实现。正因通知如此灵活，我们更应该弄清楚通知适合使用的场景，避免把通知和delegate以及block等进行混淆。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">通知是一把双刃剑，让你欢喜让你忧。开发中，当你走投无路将要崩溃时，可以考虑使用通知；而当你频繁使用通知时，同样会让你崩溃到走投无路。所以，在每个应用中，我们应该时刻留意并控制通知的数量，避免通知满天飞的现象。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">曾经有一个项目摆在我面前，我却无法珍惜，因为通知太多了，几乎有代码的地方就有通知。如果现在同样有一个充满通知的项目摆在我面前，我知道是时候该优化它了。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】基于以上的陈述，当我们使用通知时，必须要思考，有没有更好的办法来代替这个通知。禁止遇到问题就想到通知，把通知作为备选项而非首选项。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】post通知时，object通常是指发出notification的对象，如果在发送notification的同时要传递一些额外的信息，请使用userInfo，而不是object。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】NSNotificationCenter在iOS8及更老的系统有一个多线程bug，selector执行到一半可能会因为self的销毁而引起crash，解决的方案是在selector中使用weak_strong_dance。如下：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"><pre style="font-size: inherit;color: inherit;line-height: inherit;margin-top: 0px;margin-bottom: 0px;padding: 0px;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;">- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)onMultiThreadNotificationTrigged:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSNotification</span> *)notify {<br  /> &nbsp; &nbsp;__<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">weak</span> <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">typeof</span>(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span>) wself = <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span>; __<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">strong</span> <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">typeof</span>(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span>) sself = wself; <br  /> &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">if</span> (!sself) { <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">return</span>; }<br  /> &nbsp; &nbsp;[<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span> doSomething]; <br  />}<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】在多线程应用中，Notification在哪个线程中post，就在哪个线程中被转发，而不一定是在注册观察者的那个线程中。如果post消息不在主线程，而接受消息的回调里做了UI操作，需要让其在主线程执行。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">说明：每个进程都会创建一个NotificationCenter，这个center通过NSNotificationCenter defaultCenter获取，当然也可以自己创建一个center。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">NoticiationCenter是以同步（非异步，当前线程，会等待，会阻塞）的方式发送请求。即，当post通知时，center会一直等待所有的observer都收到并且处理了通知才会返回到poster。如果需要异步发送通知，请使用notificationQueue，在一个多线程的应用中，通知会发送到所有的线程中。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(2.7) UI规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】如果想要获取window，不要使用view.window获取。请使用[[UIApplication sharedApplication] keyWindow]。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】在使用到 UIScrollView，UITableView，UICollectionView 的 Class 中，需要在 dealloc 方法里手动的把对应的 delegate, dataSouce 置为 nil。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】UITableView使用self-sizing实现不等高cell时，请在- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath;中给cell设置数据。不要在- (void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath;方法中给cell设置数据。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】当访问一个 CGRect 的 x， y， width， height 时，应该使用CGGeometry 函数代替直接访问结构体成员。苹果的 CGGeometry 参考中说到：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><blockquote><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">All functions described in this reference that take CGRect data structures as inputs implicitly standardize those rectangles before calculating their results. For this reason, your applications should avoid directly reading and writing the data stored in the CGRect data structure. Instead, use the functions described here to manipulate rectangles and to retrieve their characteristics.</span></p></blockquote><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"><br  /></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">因此，推荐的写法是这样的：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"><pre style="font-size: inherit;color: inherit;line-height: inherit;margin-top: 0px;margin-bottom: 0px;padding: 0px;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">CGRect</span> frame = <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span>.view.frame;<br  /><br  /><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">CGFloat</span> x = <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">CGRectGetMinX</span>(frame);<br  /><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">CGFloat</span> y = <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">CGRectGetMinY</span>(frame);<br  /><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">CGFloat</span> width = <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">CGRectGetWidth</span>(frame);<br  /><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">CGFloat</span> height = <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">CGRectGetHeight</span>(frame);<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"><br  /></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">反对这样的写法：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"><pre style="font-size: inherit;color: inherit;line-height: inherit;margin-top: 0px;margin-bottom: 0px;padding: 0px;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">CGRect</span> frame = <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span>.view.frame;<br  /><br  /><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">CGFloat</span> x = frame.origin.x;<br  /><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">CGFloat</span> y = frame.origin.y;<br  /><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">CGFloat</span> width = frame.size.width;<br  /><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">CGFloat</span> height = frame.size.height;<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(2.8) IO规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】尽量少用NSUserDefaults。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">说明：[[NSUserDefaults standardUserDefaults] synchronize] 会block住当前线程，知道所有的内容都写进磁盘，如果内容过多，重复调用的话会严重影响性能。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】一些经常被使用的文件建议做好缓存。避免重复的IO操作。建议只有在合适的时候再进行持久化操作。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>2.9 Collection规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】不要用一个可能为nil的对象初始化集合对象，否则可能会导致crash。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"><pre style="font-size: inherit;color: inherit;line-height: inherit;margin-top: 0px;margin-bottom: 0px;padding: 0px;"><code class="hljs php" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 可能崩溃</span><br  />NSObject *obj = somOjbcetMaybeNil;<br  />NSMutableArray *arrM = [NSMutableArray arrayWithObject:obj];<br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 崩溃信息：</span><br  />*** Terminating app due to uncaught <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">exception</span> <span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);word-wrap: inherit !important;word-break: inherit !important;">'NSInvalidArgumentException'</span>, reason: <span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);word-wrap: inherit !important;word-break: inherit !important;">'*** -[__NSPlaceholderArray initWithObjects:count:]: attempt to insert nil object from objects[0]’<br  /></span></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"><pre style="font-size: inherit;color: inherit;line-height: inherit;margin-top: 0px;margin-bottom: 0px;padding: 0px;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 改进办法:</span><br  /><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSObject</span> *obj = somOjbcetMaybeNil;<br  /><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSMutableArray</span> *arrM = <span class="hljs-literal" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">nil</span>;<br  /><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">if</span> (obj &amp;&amp; [obj isKindOfClass:[<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSObject</span> <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">class</span>]]) {<br  /> &nbsp; &nbsp;arrM = [<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSMutableArray</span> arrayWithObject:obj];<br  />} <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">else</span> {<br  /> &nbsp; &nbsp;arrM = <span class="hljs-literal" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">nil</span>;<br  />}<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】同理，对插入到集合对象里面的对象也要进行判空。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】注意在多线程环境下访问可变集合对象的问题，必要时应该加锁保护。不可变集合(比如NSArray)类默认是线程安全的，而可变集合类(比如NSMutableArray)不是线程安全的。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】禁止在多线程环境下直接访问可变集合对象中的元素。应该先对其进行copy，然后访问不可变集合对象内的元素。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"><pre style="font-size: inherit;color: inherit;line-height: inherit;margin-top: 0px;margin-bottom: 0px;padding: 0px;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 正确写法</span><br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)checkAllValidItems{<br  /><span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSArray</span> *array = [array <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">copy</span>];<br  />[array enumerateObjectsUsingBlock:^(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">id</span> _Nonnull obj, <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSUInteger</span> idx, <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">BOOL</span> * _Nonnull stop) {<br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">//do something using obj</span><br  />}]; }<br  /><br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 错误写法</span><br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)checkAllValidItems{<br  />[<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span>.allItems enumerateObjectsUsingBlock:^(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">id</span> _Nonnull obj, <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSUInteger</span> idx, <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">BOOL</span> * _Nonnull stop) {<br  /> &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">//do something using obj</span><br  /> &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 如果在enumerate过程中，其他线程对allItems这个可变集合进行了变更操作，这里就有可能引发crash</span><br  />}]; }<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】注意使用enumerateObjectsUsingBlock遍历集合对象中的对象时，关键字return的作用域。block中的return代表的是使当前的block返回，而非使当前的整个函数体返回。以下使用NSArray举例，其他集合类型同理。如下：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"><pre style="font-size: inherit;color: inherit;line-height: inherit;margin-top: 0px;margin-bottom: 0px;padding: 0px;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;">- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)touchesBegan:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSSet</span>&lt;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">UITouch</span> *&gt; *)touches withEvent:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">UIEvent</span> *)event {<br  /> &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSArray</span> *array = [<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSArray</span> arrayWithObject:<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);word-wrap: inherit !important;word-break: inherit !important;">@"1"</span>];<br  /> &nbsp; &nbsp;[array enumerateObjectsUsingBlock:^(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">id</span> &nbsp;_Nonnull obj, <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSUInteger</span> idx, <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">BOOL</span> * _Nonnull stop) {<br  /> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// excute some code...</span><br  /> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">return</span>;<br  /> &nbsp; &nbsp;}];<br  /> &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 依然会执行到这里</span><br  /> &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSLog</span>(<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);word-wrap: inherit !important;word-break: inherit !important;">@"fall through"</span>);<br  />}<br  /><br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 执行结果：</span><br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// fall through</span><br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">当然，两个enumerateObjectsUsingBlock嵌套，如果仅在最内层的block中return，外层block的代码还是会被执行。如下：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"><pre style="font-size: inherit;color: inherit;line-height: inherit;margin-top: 0px;margin-bottom: 0px;padding: 0px;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;">- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)touchesBegan:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSSet</span>&lt;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">UITouch</span> *&gt; *)touches withEvent:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">UIEvent</span> *)event {<br  /> &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSArray</span> *arr1 = [<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSArray</span> arrayWithObject:<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);word-wrap: inherit !important;word-break: inherit !important;">@"1"</span>];<br  /> &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSArray</span> *arr2 = [<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSArray</span> arrayWithObject:<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);word-wrap: inherit !important;word-break: inherit !important;">@"2"</span>];<br  /> &nbsp; &nbsp;[arr2 enumerateObjectsUsingBlock:^(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">id</span> &nbsp;_Nonnull obj, <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSUInteger</span> idx, <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">BOOL</span> * _Nonnull stop) {<br  /> &nbsp; &nbsp; &nbsp; &nbsp;[arr1 enumerateObjectsUsingBlock:^(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">id</span> &nbsp;_Nonnull obj, <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSUInteger</span> idx, <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">BOOL</span> * _Nonnull stop) {<br  /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// do something</span><br  /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">return</span>;<br  /> &nbsp; &nbsp; &nbsp; &nbsp;}];<br  /> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSLog</span>(<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);word-wrap: inherit !important;word-break: inherit !important;">@"fall through"</span>);<br  /> &nbsp; &nbsp;}];<br  /> &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSLog</span>(<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);word-wrap: inherit !important;word-break: inherit !important;">@"fall through"</span>);<br  />}<br  /><br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 执行结果：</span><br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// fall through</span><br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// fall through</span><br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">说明：其实block相当于一个匿名函数，在block中使用return返回，仅是让当前这个匿名函数返回。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】禁止返回mutable对象，禁止mutable对象作为入参传递。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】如果使用NSMutableDictionary作为缓存，建议使用NSCache代替。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】集合类使用泛型来指定对象的类型。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"><pre style="font-size: inherit;color: inherit;line-height: inherit;margin-top: 0px;margin-bottom: 0px;padding: 0px;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">@property</span>(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">nonatomic</span>,<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">copy</span>) <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSArray</span>&lt;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSString</span> *&gt; *array;<br  /><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">@property</span>(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">nonatomic</span>,<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">strong</span>) <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSMutableDictionary</span>&lt;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSString</span> *,<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSString</span> *&gt; *dictionary;<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(2.10) 分支语句规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】if条件判断语句后面必须要加大括号{}。不然随着业务的发展和代码迭代，极有可能引起逻辑问题。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"><pre style="font-size: inherit;color: inherit;line-height: inherit;margin-top: 0px;margin-bottom: 0px;padding: 0px;"><code class="hljs kotlin" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 建议</span><br  /><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">if</span> (!error) {<br  /> &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">return</span> success;<br  />}<br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 不建议</span><br  /><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">if</span> (!error) <br  /> &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">return</span> success;<br  /><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">if</span> (!error) &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">return</span> success;<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】多于3个逻辑表达式必须用参数分割成多个有意义的bool变量。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】遵循gold path法则，不要把真正的逻辑写道括号内。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"><pre style="font-size: inherit;color: inherit;line-height: inherit;margin-top: 0px;margin-bottom: 0px;padding: 0px;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 不建议</span><br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)someFuncWith:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSString</span> *)parameter {<br  /> &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">if</span> (parameter) {<br  /> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// do something</span><br  /> &nbsp; &nbsp; &nbsp; &nbsp;[<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span> doSomething];<br  /> &nbsp; &nbsp;}<br  />}<br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 建议</span><br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)someFuncWith:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSString</span> *)parameter {<br  /> &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">if</span> (!parameter) {<br  /> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">return</span>;<br  /> &nbsp; &nbsp;}<br  /> &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// do something</span><br  /> &nbsp; &nbsp;[<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span> doSomething];<br  />}<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】对于条件语句的真假，因为 nil 解析为 NO，所以没有必要在条件中与它进行比较。永远不要直接和 YES 和 NO进行比较，因为 YES 被定义为 1，而 BOOL 可以多达 8 位。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"><pre style="font-size: inherit;color: inherit;line-height: inherit;margin-top: 0px;margin-bottom: 0px;padding: 0px;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 建议</span><br  /><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">if</span> (isAwesome)<br  /><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">if</span> (![someObject boolValue])<br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 禁止这样做</span><br  /><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">if</span> ([someObject boolValue] == <span class="hljs-literal" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">NO</span>) { }<br  /><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">if</span> (isAwesome == <span class="hljs-literal" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">YES</span>) { } <br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】使用switch...case...语句的时候，不要丢掉default:。除非switch枚举。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】switch...case...语句的每个case都要添加break关键字，避免出现fall-through。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(2.11) 对象判等规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">isEqual:方法允许我们传入任意类型的对象作为参数，如果参数类型和receiver(方法调用者)类型不一致，会返回NO。而isEqualToString:和isEqualToArray:这两个方法会假设参数类型和receiver类型一致，也就是说，这两个方法不会对参数进行类型检查。因此这两个方法性能更好但不安全。如果我们是从外部数据源(比如info.plist或preferences)获取的数据，那么推荐使用isEqual:，因为这样更安全。如果我们知道参数的确切类型，那么可以使用类似于isEqualToString:这样的方法，因为性能更好。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(2.12) 懒加载规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">懒加载适合的场景：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><ul class=" list-paddingleft-2" style="list-style-type: disc;"><li><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">一个对象的创建依赖于其他对象。</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">一个对象在整个app过程中，可能被使用，也可能不被使用。</span></p></li><li><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">一个对象的创建需要经过大量的计算或者比较消耗性能。除以上三条之外，请不要使用懒加载。</span></p></li></ul><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"><br  /></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】懒加载本质上就是延迟初始化某个对象，所以，懒加载仅仅是初始化一个对象，然后对这个对象的属性赋值。懒加载中不应该有其他的不必要的逻辑性的代码，如果有，请把那些逻辑性代码放到合适的地方。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】不要滥用懒加载，只对那些真正需要懒加载的对象采用懒加载。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】如果一个对象在懒加载后，某些场景下又被设置为nil。我们很难保证这个懒加载不被再次触发。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(2.13) 多线程规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】禁止使用GCD的dispatch_get_current_queue()函数获取当前线程信息。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】对剪贴板的读取必须要放在异步线程处理，最新Mac和iOS里的剪贴板共享功能会导致有可能需要读取大量的内容，导致读取线程被长时间阻塞。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】仅当必须保证顺序执行时才使用dispatch_sync，否则容易出现死锁，应避免使用，可使用dispatch_async。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"><pre style="font-size: inherit;color: inherit;line-height: inherit;margin-top: 0px;margin-bottom: 0px;padding: 0px;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"> - (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)viewDidLoad {<br  /> &nbsp; [<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">super</span> viewDidLoad];<br  /> &nbsp; <span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 错误。出现死锁，报错:EXC_BAD_INSTRUCTION。原因:在主队列中同步的添加一个block到主队列中</span><br  /> &nbsp; <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">dispatch_queue_t</span> mainQueue = dispatch_get_main_queue();<br  /> &nbsp; dispatch_block_t block = ^() {<br  /> &nbsp; &nbsp; &nbsp; <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSLog</span>(<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);word-wrap: inherit !important;word-break: inherit !important;">@"%@"</span>, [<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSThread</span> currentThread]);<br  /> &nbsp; };<br  /> &nbsp; <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">dispatch_sync</span>(mainQueue, block);<br  />}<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"><pre style="font-size: inherit;color: inherit;line-height: inherit;margin-top: 0px;margin-bottom: 0px;padding: 0px;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"> - (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)viewDidLoad {<br  /> &nbsp; [<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">super</span> viewDidLoad];<br  /> &nbsp; <span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 正确。异步执行。虽然还是把任务加到了主队列由主线程来执行，但因为是异步，此时主队列后面的任务不依赖于前面的任务。</span><br  /> &nbsp; <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">dispatch_queue_t</span> mainQueue = dispatch_get_main_queue();<br  /> &nbsp; dispatch_block_t block = ^() {<br  /> &nbsp; &nbsp; &nbsp; <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSLog</span>(<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);word-wrap: inherit !important;word-break: inherit !important;">@"%@"</span>, [<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSThread</span> currentThread]);<br  /> &nbsp; };<br  /> &nbsp; <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">dispatch_async</span>(mainQueue, block);<br  />}<br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 打印结果：</span><br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// &lt;NSThread: 0x600000073300&gt;{number = 1, name = main}</span><br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】禁止在非主线程中进行UI元素的操作。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】在主线程中禁止进行同步网络资源读取，使用NSURLSession进行异步获取。当然，你可以在子线程同步获取网络资源，但还是上面的那一条建议：避免使用dispatch_sync，尽量使用dispatch_async。因为死锁不一定只发生在主线程。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】如果需要进行大文件或者多文件的IO操作，禁止主线程使用，必须进行异步处理。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】对剪贴板的读取必须要放在异步线程处理，最新Mac和iOS里的剪贴板共享功能会导致有可能需要读取大量的内容，导致读取线程被长时间阻塞。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"><pre style="font-size: inherit;color: inherit;line-height: inherit;margin-top: 0px;margin-bottom: 0px;padding: 0px;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"> <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">dispatch_async</span>(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, <span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">0</span>), ^{<br  /> &nbsp; <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">UIPasteboard</span> *pasteboard = [<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">UIPasteboard</span> generalPasteboard]; <br  /> &nbsp; <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">if</span> (pasteboard.string.length &gt; <span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">0</span>) {<span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">//这个方法会阻塞线程</span><br  /> &nbsp; &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSString</span> *text = [pasteboard.string <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">copy</span>];<br  /> &nbsp; &nbsp; &nbsp;[pasteboard setValue:<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);word-wrap: inherit !important;word-break: inherit !important;">@""</span> forPasteboardType:<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">UIPasteboardNameGeneral</span>];<br  /> &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">if</span> (text == <span class="hljs-literal" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">nil</span> || [text isEqualToString:<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);word-wrap: inherit !important;word-break: inherit !important;">@""</span>]) {<br  /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">return</span> ;<br  /> &nbsp; &nbsp; &nbsp;}<br  /> &nbsp; &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">dispatch_async</span>(dispatch_get_main_queue(), ^{<br  /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span> processShareCode:text];<br  /> &nbsp; &nbsp; &nbsp;});<br  /> &nbsp; }<br  />});<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>2.14 内存管理规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】函数体提前return时，要注意是否有对象没有被释放掉(常见于CF对象)，避免造成内存泄露。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】请慎重使用单例，避免产生不必要的常驻内存。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">说明：我们不仅应该知道单例的特点和优势，也必须要弄明白单例适合的场景。UIApplication、access database 、request network 、access userInfo这类全局仅存在一份的对象或者需要多线程访问的对象，可以使用单例。不要仅仅为了访问方便就使用单例。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】单例初始化方法中尽量保证单一职责,尤其不要进行其他单例的调用。极端情况下，两个单例对象在各自的单例初始化方法中调用，会造成死锁。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】在dealloc方法中，禁止将self作为参数传递出去，如果self被retain住，到下个runloop周期再释放，则会造成多次释放crash。这一点在<strong>dealloc</strong>一节中有说明。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】除非你清除的知道自己在做什么。否则不建议将UIView类的对象加入到NSArray、NSDictionary、NSSet中。如有需要可以添加到NSMapTable 和 NSHashTable。因为NSArray、NSDictionary、NSSet会对加入的对象做strong引用（即使你把加入的对象进行了weak）。而NSMapTable、NSHashTable会对加入的对象做weak引用。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">说明：简单的说，NSHashTable相当于weak的NSMutableArray；NSMapTable相当于weak的NSMutableDictionary.</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"><pre style="font-size: inherit;color: inherit;line-height: inherit;margin-top: 0px;margin-bottom: 0px;padding: 0px;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 错误的例子：</span><br  /><span class="hljs-class" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">@implementation</span> <span class="hljs-title" style="font-size: inherit;line-height: inherit;color: rgb(165, 218, 45);word-wrap: inherit !important;word-break: inherit !important;">WSObject</span></span><br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)dealloc {<br  /> &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSLog</span>(<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);word-wrap: inherit !important;word-break: inherit !important;">@"dealloc"</span>);<br  />}<br  /><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">@end</span><br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)touchesBegan:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSSet</span>&lt;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">UITouch</span> *&gt; *)touches withEvent:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">UIEvent</span> *)event {<br  /> &nbsp; &nbsp;WSObject *object = [WSObject new];<br  /> &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 即使对object进行了weak弱化，数组也会强引用这个object对象。dealloc方法不会被执行。</span><br  /> &nbsp; &nbsp;__<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">weak</span> <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">typeof</span>(object) weakObject = object;<br  /> &nbsp; &nbsp;[<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span>.arrM addObject:weakObject];<br  /> &nbsp; &nbsp;dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">2</span> * <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSEC_PER_SEC</span>)), dispatch_get_main_queue(), ^{<br  /> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSLog</span>(<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);word-wrap: inherit !important;word-break: inherit !important;">@"count = %ld"</span>,<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span>.arrM.count);<br  /> &nbsp; &nbsp;});<br  />}<br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 打印结果：</span><br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// count = 1</span><br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"><pre style="font-size: inherit;color: inherit;line-height: inherit;margin-top: 0px;margin-bottom: 0px;padding: 0px;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 正确的例子：</span><br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)touchesBegan:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSSet</span>&lt;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">UITouch</span> *&gt; *)touches withEvent:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">UIEvent</span> *)event {<br  /> &nbsp; &nbsp;WSObject *object = [WSObject new];<br  /> &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSHashTable</span> *hashTable = [<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSHashTable</span> weakObjectsHashTable];<br  /> &nbsp; &nbsp;[hashTable addObject:object];<br  /> &nbsp; &nbsp;dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">2</span> * <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSEC_PER_SEC</span>)), dispatch_get_main_queue(), ^{<br  /> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSLog</span>(<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);word-wrap: inherit !important;word-break: inherit !important;">@"count = %ld"</span>,hashTable.count);<br  /> &nbsp; &nbsp;});<br  />}<br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 打印结果：</span><br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// dealloc</span><br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// count = 1</span><br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">你可能对上面的例子有所疑惑，object已经释放了，但是控制台仍然输出 hashTable.count == 1。但是请相信我，此时存在于hashTable中的那个object已经变成了nil。不信你继续看下面的例子：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"><pre style="font-size: inherit;color: inherit;line-height: inherit;margin-top: 0px;margin-bottom: 0px;padding: 0px;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;">- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)touchesBegan:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSSet</span>&lt;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">UITouch</span> *&gt; *)touches withEvent:(<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">UIEvent</span> *)event {<br  /> &nbsp; &nbsp;WSObject *object = [WSObject new];<br  /> &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSHashTable</span> *hashTable = [<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSHashTable</span> weakObjectsHashTable];<br  /> &nbsp; &nbsp;[hashTable addObject:object];<br  /> &nbsp; &nbsp;dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">2</span> * <span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSEC_PER_SEC</span>)), dispatch_get_main_queue(), ^{<br  /> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSLog</span>(<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);word-wrap: inherit !important;word-break: inherit !important;">@"count = %ld"</span>,hashTable.count);<br  /> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">if</span> (hashTable &amp;&amp; hashTable.count) {<br  /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;WSObject *object = [hashTable anyObject];<br  /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSLog</span>(<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);word-wrap: inherit !important;word-break: inherit !important;">@"object = %@"</span>,[object <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span>]);<br  /> &nbsp; &nbsp; &nbsp; &nbsp;}<br  /> &nbsp; &nbsp;});<br  />}<br  /><span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// 打印结果：</span><br  /><span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">2017</span><span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">-07</span><span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">-04</span> <span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">22</span>:<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">19</span>:<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">10.952139</span>+<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">0800</span> tst[<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">46834</span>:<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">4305636</span>] dealloc<br  /><span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">2017</span><span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">-07</span><span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">-04</span> <span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">22</span>:<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">19</span>:<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">13.149903</span>+<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">0800</span> tst[<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">46834</span>:<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">4305636</span>] count = <span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">1</span><br  /><span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">2017</span><span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">-07</span><span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">-04</span> <span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">22</span>:<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">20</span>:<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">55.234522</span>+<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">0800</span> tst[<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">46834</span>:<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);word-wrap: inherit !important;word-break: inherit !important;">4305636</span>] object = (null)<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(2.15) 延迟调用规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】performSelector:withObject:afterDelay:要在有Runloop的线程里调用，否则调用无法生效。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">说明：异步线程默认是没有runloop的，除非手动创建；而主线程是系统会自动创建Runloop的。所以在异步线程调用是请先确保该线程是有Runloop的。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: left;"><span style="font-size: 14px;">使用performSelector:withObject:afterDelay:和cancelPreviousPerformRequestsWithTarget组合的时候要小心：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: left;"><span style="font-size: 14px;">afterDelay会增加引用计数，而cancel会对引用计数减一</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: left;"><span style="font-size: 14px;">如果receiver在引用计数器为1的时候，调用cancel会立即回收receiver。后续再次调用receiver的方法就会crash。所以我们需要使用weakSelf并判空。如下：</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"><pre style="font-size: inherit;color: inherit;line-height: inherit;margin-top: 0px;margin-bottom: 0px;padding: 0px;"><code class="hljs objectivec" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;">__<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">weak</span> <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">typeof</span>(<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span>) weakSelf = <span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span>;<br  />[<span class="hljs-built_in" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">NSObject</span> cancelPreviousPerformRequestsWithTarget:<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span>]; <br  /><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">if</span> (!weakSelf) {<br  /> &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);word-wrap: inherit !important;word-break: inherit !important;">// NSLog(@"self dealloc");</span><br  /> &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">return</span>;<br  /> }<br  />[<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">self</span> doOther];<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(2.16) 注释规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】如果方法、函数、类、属性等需要提供给外界或者他人使用，必须要加注释说明。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】如果你的代码以SDK的形式提供给其他人使用，那么接口的注释是必须的。必须对暴露给外界的所有方法、属性、参数加以注释说明。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】注释应该说明其作用以及注意事项(如果有)。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】因为方法或属性本身就具有自我描述性，注释应该简明扼要，说明是什么和为什么即可。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(2.17) 类的设计规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】尽量减少继承，类的继承关系不要超过3层。可以考虑使用category、protocol来代替继承。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】把一些稳定的、公共的变量或者方法抽取到父类中。子类尽量只维持父类所不具备的特性和功能。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】.h文件中尽量不要声明成员变量。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】.h文件中的属性尽量声明为只读。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】.h文件中只暴露出一些必要的类、公开的方法、只读属性；私有类、私有方法和私有属性以及成员变量，尽量写在.m文件中。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(2.18) 代码组织规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p><span style="font-size: 14px;">参考 raywenderlich/objective-c-style-guide（https://github.com/raywenderlich/objective-c-style-guide）</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"><pre style="font-size: inherit;color: inherit;line-height: inherit;margin-top: 0px;margin-bottom: 0px;padding: 0px;"><code class="hljs cs" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;word-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-meta" style="font-size: inherit;line-height: inherit;color: rgb(91, 218, 237);word-wrap: inherit !important;word-break: inherit !important;">#<span class="hljs-meta-keyword" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;">pragma</span> mark - Lifecycle</span><br  />- (instancetype)init {}<br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)dealloc {}<br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)viewDidLoad {}<br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)viewWillAppear:(BOOL)animated {}<br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)didReceiveMemoryWarning {}<br  /><span class="hljs-meta" style="font-size: inherit;line-height: inherit;color: rgb(91, 218, 237);word-wrap: inherit !important;word-break: inherit !important;">#<span class="hljs-meta-keyword" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;">pragma</span> mark - Custom Accessors</span><br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)setCustomProperty:(id)<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">value</span> {}<br  />- (id)customProperty {}<br  /><span class="hljs-meta" style="font-size: inherit;line-height: inherit;color: rgb(91, 218, 237);word-wrap: inherit !important;word-break: inherit !important;">#<span class="hljs-meta-keyword" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;">pragma</span> mark - IBActions</span><br  />- (IBAction)submitData:(id)sender {}<br  /><span class="hljs-meta" style="font-size: inherit;line-height: inherit;color: rgb(91, 218, 237);word-wrap: inherit !important;word-break: inherit !important;">#<span class="hljs-meta-keyword" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;">pragma</span> mark - Public</span><br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)publicMethod {}<br  /><span class="hljs-meta" style="font-size: inherit;line-height: inherit;color: rgb(91, 218, 237);word-wrap: inherit !important;word-break: inherit !important;">#<span class="hljs-meta-keyword" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;">pragma</span> mark - Private</span><br  />- (<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);word-wrap: inherit !important;word-break: inherit !important;">void</span>)privateMethod {}<br  /><span class="hljs-meta" style="font-size: inherit;line-height: inherit;color: rgb(91, 218, 237);word-wrap: inherit !important;word-break: inherit !important;">#<span class="hljs-meta-keyword" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;">pragma</span> mark - UITextFieldDelegate</span><br  /><span class="hljs-meta" style="font-size: inherit;line-height: inherit;color: rgb(91, 218, 237);word-wrap: inherit !important;word-break: inherit !important;">#<span class="hljs-meta-keyword" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;">pragma</span> mark - UITableViewDataSource</span><br  /><span class="hljs-meta" style="font-size: inherit;line-height: inherit;color: rgb(91, 218, 237);word-wrap: inherit !important;word-break: inherit !important;">#<span class="hljs-meta-keyword" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;">pragma</span> mark - UITableViewDelegate</span><br  /><span class="hljs-meta" style="font-size: inherit;line-height: inherit;color: rgb(91, 218, 237);word-wrap: inherit !important;word-break: inherit !important;">#<span class="hljs-meta-keyword" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;">pragma</span> mark - NSCopying</span><br  />- (id)copyWithZone:(NSZone *)zone {}<br  /><span class="hljs-meta" style="font-size: inherit;line-height: inherit;color: rgb(91, 218, 237);word-wrap: inherit !important;word-break: inherit !important;">#<span class="hljs-meta-keyword" style="font-size: inherit;color: inherit;line-height: inherit;word-wrap: inherit !important;word-break: inherit !important;">pragma</span> mark - NSObject</span><br  />- (NSString *)description {}<br  /></code></pre></section><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】以上只是提供了组织代码的一种思路，如果有其他更好的组织方式，也不是不可以。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 18px;"><strong>(2.19) 工程结构规范</strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【必须】为了避免文件杂乱，物理文件应该保持和 Xcode 项目文件同步。Xcode 创建的任何组（group）都必须在文件系统有相应的映射。为了更清晰，代码不仅应该按照类型进行分组，也可以根据业务功能进行分组。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】合理组织工程的内的文件夹，工程中一般包括但不限于以下几个文件夹category(分类)、util/helper(工具类)、resource(资源)、const(常量)、third(第三方)。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;">【建议】尽可能一直打开 target Build Settings 中 "Treat Warnings as Errors" 以及一些额外的警告。如果你需要忽略指定的警告,使用 Clang 的编译特性 。</span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;"><br  /></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"><br  /></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;letter-spacing: 0.5px;text-align: justify;"><span style="font-size: 14px;"></span></p><p style="max-width: 100%;min-height: 1em;color: rgb(62, 62, 62);font-size: 16px;white-space: normal;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;font-size: 20px;box-sizing: border-box !important;word-wrap: break-word !important;"><strong style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"></strong></span></p><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;max-width: 100%;min-height: 1em;color: rgb(62, 62, 62);"><img class="" data-ratio="0.05776173285198556" data-src="http://mmbiz.qpic.cn/mmbiz_png/TWtGkwUapckh3mpakrDbSW8wA9icDkicxJx0WyJGMKyib6hq2N76bvoJMRUrHSPd8BCSYSrS6LA5Pl1DsTPgNKGsA/640?" data-type="png" data-w="554" title="银色金属分割线" width="100%" style="line-height: 25.6px;text-align: center;font-family: 微软雅黑;display: inline;box-sizing: border-box !important;word-wrap: break-word !important;visibility: visible !important;width: 668px !important;"  /></p><ul class=" list-paddingleft-2" style="list-style-type: circle;"><li><p style="white-space: normal;"><span style="max-width: 100%;font-size: 10px;color: rgb(178, 178, 178);box-sizing: border-box !important;word-wrap: break-word !important;">作者：VV木公子</span></p></li><li><p style="white-space: normal;"><span style="max-width: 100%;font-size: 10px;color: rgb(178, 178, 178);box-sizing: border-box !important;word-wrap: break-word !important;">链接：https://www.jianshu.com/p/c818c00e0690</span></p></li><li><p style="max-width: 100%;min-height: 1em;line-height: normal;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;font-size: 10px;color: rgb(178, 178, 178);box-sizing: border-box !important;word-wrap: break-word !important;">iOS开发整理发布，转载请联系作者授权</span></p></li></ul><p style="padding-right: 0.5em;padding-left: 0.5em;white-space: normal;max-width: 100%;min-height: 1em;line-height: normal;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;font-size: 10px;color: rgb(178, 178, 178);box-sizing: border-box !important;word-wrap: break-word !important;"></span><a href="https://mp.weixin.qq.com/s?__biz=MzAxMzQ3NzQ3Nw==&amp;mid=2654250659&amp;idx=5&amp;sn=a6af148ed8fdf2cce2baaf62390953ed&amp;scene=21#wechat_redirect" target="_blank"><img class="" data-backh="243" data-backw="558" data-copyright="0" data-ratio="0.43605236656596175" data-src="https://mmbiz.qpic.cn/mmbiz_gif/8RTSPr4mlymeeDuqGvOToCf0rvibQickeRsEibQevnVTpac8WEEr8yTTdVia8lGDM0JoAdg7Os86jhcnn6bpyInic9A/640?wx_fmt=gif" data-type="gif" data-w="993" style="width: 540px;"></a><a href="http://mp.weixin.qq.com/s?__biz=MzI4MDYwMDc3MQ==&amp;mid=2247484211&amp;idx=2&amp;sn=6896ee011f863cd011e9e001362637d3&amp;scene=21#wechat_redirect" target="_blank"><span style="color: rgb(67, 149, 245);outline: 0px;max-width: 100%;font-weight: bold;line-height: normal;text-indent: 2em;box-sizing: border-box !important;word-wrap: break-word !important;"><img class="__bg_gif" data-ratio="0.48936170212765956" data-src="https://mmbiz.qpic.cn/mmbiz_gif/G1TofAf0fqgmKZQJjj39ceYg5aeBfPwxUaibqpUJfFp7R3GYWibpmFTrabicaljvDbtkkcPicCWwdMibzvkjR36bA2A/640?" data-type="gif" data-w="47" width="auto" style="border-width: 0px;border-style: initial;border-color: initial;line-height: 38.4384px;box-sizing: border-box !important;word-wrap: break-word !important;visibility: visible !important;width: auto !important;"  /></span><span style="color: rgb(255, 41, 65);outline: 0px;max-width: 100%;font-size: 20px;font-weight: bold;box-sizing: border-box !important;word-wrap: break-word !important;">【点击成为Java大神】</span></a></p>
                </div>
                <script nonce="1762986970" type="text/javascript">
                    var first_sceen__time = (+new Date());

                    if ("" == 1 && document.getElementById('js_content')) {
                        document.getElementById('js_content').addEventListener("selectstart",function(e){ e.preventDefault(); });
                    }

                    
                    (function(){
                        if (navigator.userAgent.indexOf("WindowsWechat") != -1){
                            var link = document.createElement('link');
                            var head = document.getElementsByTagName('head')[0];
                            link.rel = 'stylesheet';
                            link.type = 'text/css';
                            link.href = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx3ec991.css";
                            head.appendChild(link);
                        }
                    })();
                </script>

                
                <div class="ct_mpda_wrp" id="js_sponsor_ad_area" style="display:none;"></div>

                
                                <div class="reward_area tc reward_area_primary" id="js_preview_reward_author" style="display:none;">
                    <div class="reward-avatar" style="display: none;" id="js_preview_reward_author_avatar">
                        <img src="" alt="" id="js_preview_reward_author_head">
                    </div>
                    
                                        <div class="reward-author" id="js_preview_reward_author_name"></div>
                                        <p class="reward_tips" id="js_preview_reward_author_wording" style="display:none;"></p>
                    <p>
                        <a class="reward_button" id='js_preview_reward_author_link' href="##"><span id="js_preview_reward_link_text">赞赏</span></a>
                    </p>
                </div>

                <div class="reward_qrcode_area reward_area tc" id="js_preview_reward_qrcode" style="display:none;">
                    <p class="tips_global">长按二维码向我转账</p>
                    <p id="js_preview_reward_ios_wording" class="reward_tips" style="display:none;"></p>
                    <span class="reward_qrcode_img_wrp"><img class="reward_qrcode_img" src="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_reward_qrcode.2x3534dd.png"></span>
                    <p class="tips_global">受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。</p>
                </div>
                                
                
                            </div>
                                        
                                

                        
            <ul id="js_hotspot_area" class="article_extend_area"></ul>


            
                        <div class="rich_media_tool" id="js_toobar3">

                                            <div id="js_read_area3" class="media_tool_meta tips_global_primary meta_primary" style="display:none;">阅读 <span id="readNum3"></span></div>

                <span style="display:none;" class="media_tool_meta meta_extra meta_praise" id="like3">
                    <i class="icon_praise_gray"></i><span class="praise_num" id="likeNum3"></span>
                </span>

                

            </div>


                      </div>
        </div>

        <div class="rich_media_area_primary sougou" id="sg_tj" style="display:none"></div>


        
        <div class="rich_media_area_extra">
          <div class="rich_media_area_extra_inner">
              
              <div id="js_share_appmsg">
              </div>

              
                            <div class="mpda_bottom_container" id="js_bottom_ad_area"></div>
                            
              <div id="js_iframetest" style="display:none;"></div>
                            
              <div class="rich_media_extra rich_media_extra_discuss" id="js_cmt_container" style="display:none">
                

                
                <div class="discuss_mod" id="js_friend_cmt_area" style="display:none">
                  
                  
                  
                </div>

                                <div class="discuss_mod" id="js_cmt_area" style="display:none">
                </div>
                              </div>
          </div>
        </div>

        
        <div id="js_pc_qr_code" class="qr_code_pc_outer" style="display:none;">
            <div class="qr_code_pc_inner">
                <div class="qr_code_pc">
                    <img id="js_pc_qr_code_img" class="qr_code_pc_img">
                    <p>微信扫一扫<br>关注该公众号</p>
                </div>
            </div>
        </div>
    </div>
</div>



<div id="js_pc_weapp_code" class="weui-desktop-popover weui-desktop-popover_pos-up-center weui-desktop-popover_img-text" style="display: none;">
    <div class="weui-desktop-popover__content">
        <div class="weui-desktop-popover__desc">
            <img id="js_pc_weapp_code_img">
            微信扫一扫<br>使用小程序<span id="js_pc_weapp_code_des"></span>        </div>
    </div>
</div>
<div id="js_minipro_dialog" style="display:none;">
    <div class="weui-mask"></div>
    <div class="weui-dialog">
        <div class="weui-dialog__bd">即将打开"<span id="js_minipro_dialog_name"></span>"小程序</div>
        <div class="weui-dialog__ft">
            <a id="js_minipro_dialog_cancel" href="javascript:void(0);" class="weui-dialog__btn weui-dialog__btn_default">取消</a>
            <a id="js_minipro_dialog_ok" href="javascript:void(0);" class="weui-dialog__btn weui-dialog__btn_primary">打开</a>
        </div>
    </div>
</div>

        
        <script nonce="1762986970">
    var __DEBUGINFO = {
        debug_js : "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/debug/console34c264.js",
        safe_js : "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/safe/moonsafe34c264.js",
        res_list: []
    };
</script>

<script nonce="1762986970" type="text/javascript">
(function() {
	var totalCount = 0,
			finishCount = 0;

	function _loadVConsolePlugin() {
		window.vConsole = new window.VConsole();
		while (window.vConsolePlugins.length > 0) {
			var p = window.vConsolePlugins.shift();
			window.vConsole.addPlugin(p);
		}
	}
	
	function _addVConsole(uri, cb) {
		totalCount++;
		var url = '//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/vconsole/' + uri;
		var node = document.createElement('SCRIPT');
		node.type = 'text/javascript';
		node.src = url;
		node.setAttribute('nonce', '1762986970');
		if (cb) {
			node.onload = cb;
		}
		document.getElementsByTagName('head')[0].appendChild(node);
	}
	if (
		(document.cookie && document.cookie.indexOf('vconsole_open=1') > -1)
		|| location.href.indexOf('vconsole=1') > -1
	) {
		window.vConsolePlugins = [];
		_addVConsole('3.0.0/vconsole.min.js', function() {
			
			_addVConsole('plugin/vconsole-mpopt/1.0.1/vconsole-mpopt.js', _loadVConsolePlugin);
		});
	}
})();
</script>
        
<script nonce="1762986970" type="text/javascript">
if (location.href.match(/fontScale=\d+/) && /(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)) {

    var m=location.href.match(/fontScale=(\d*)/);
    var map={
        "94":1,
        "100":2,
        "109":3,
        "119":4,
        "131":5,
    }
    if(m&&m[1]&&map[m[1]]){
        document.getElementsByTagName("body")[0].className+=" appmsg_skin_fontscale_"+map[m[1]];
        console.log("appmsg_skin_fontscale_:"+map[m[1]])
    }
}


(function(){
    

    var first_js_time = +new Date();

    var showDate="";
    var svrDate=new Date("1543223367"*1000);
    var createDate=new Date("1525172460"*1000);
    var ct="1525172460"*1;
    var publish_time = "2018-05-01" || "";
    var cD={
      year:createDate.getYear(),
      month:createDate.getMonth()+1,
      date:createDate.getDate()
    };
    
    svrDate.setHours(0);
    svrDate.setMinutes(0);
    svrDate.setSeconds(0);
    var todayDate=svrDate.getTime()/1000;
    svrDate.setDate(1);
    svrDate.setMonth(0);
    var yearDate=svrDate.getTime()/1000;
    
    if(ct>=todayDate){
      showDate="今天";
    
    }else if(ct>=todayDate-60*60*24){
       showDate="昨天";
    
    }else if(ct>=todayDate-2*60*60*24){
      showDate="前天";
    }else if(ct>=todayDate-3*60*60*24){
      showDate="3天前";
    }else if(ct>=todayDate-4*60*60*24){
      showDate="4天前";
    }else if(ct>=todayDate-5*60*60*24){
      showDate="5天前";
    }else if(ct>=todayDate-6*60*60*24){
      showDate="6天前";
    }else if(ct>=todayDate-2*7*60*60*24){
      showDate="1周前";
    }else if(ct>=yearDate){
      var tmp = publish_time.split('-');
      showDate = parseInt(tmp[1]) + '月' + parseInt(tmp[2]) + '日';
      
      
      
    }else{
      showDate=publish_time;
    };
    if(document.getElementById("publish_time")){
      document.getElementById("publish_time").innerText=showDate;
    }
})();
</script>
<script nonce="1762986970" type="text/javascript">

if (!window.console) window.console = { log: function() {} };

if (typeof getComputedStyle == 'undefined') {
    if (document.body.currentStyle) {
        window.getComputedStyle = function(el) {
            return el.currentStyle;
        }
    } else {
        window.getComputedStyle = {};
    }
}
(function(){
    window.__zoom = 1;
    
    (function(){
        var validArr = ","+([0.875, 1, 1.125, 1.25, 1.375]).join(",")+",";
        var match = window.location.href.match(/winzoom=(\d+(?:\.\d+)?)/);
        if (match && match[1]) {
            var winzoom = parseFloat(match[1]);
            if (validArr.indexOf(","+winzoom+",")>=0) {
                window.__zoom = winzoom;
            }
        }
    })();

    var ua = navigator.userAgent.toLowerCase();
    var re = new RegExp("msie ([0-9]+[\.0-9]*)");
    var version;
    if (re.exec(ua) != null) {
        version = parseInt(RegExp.$1);
    }
    var isIE = false;
    if (typeof version != 'undefined' && version >= 6 && version <= 9) {
        isIE = true;
    }
    var getMaxWith=function(){
        var container = document.getElementById('img-content');
        var max_width = container.offsetWidth;
        var container_padding = 0;
        var container_style = getComputedStyle(container);
        container_padding = parseFloat(container_style.paddingLeft) + parseFloat(container_style.paddingRight);
        max_width -= container_padding;
        if (!max_width) {
            max_width = window.innerWidth - 30;      
        }
        return max_width;
    };
    var getParentWidth = function(dom){
        var parent_width = 0;
        var parent = dom.parentNode;
        var outerWidth = 0;
        while (true) {
            if(!parent||parent.nodeType!=1) break;
            var parent_style = getComputedStyle(parent);
            if (!parent_style) break;
            parent_width = parent.clientWidth - parseFloat(parent_style.paddingLeft) - parseFloat(parent_style.paddingRight) - outerWidth;
            if (parent_width > 0) break;
            outerWidth += parseFloat(parent_style.paddingLeft) + parseFloat(parent_style.paddingRight) + parseFloat(parent_style.marginLeft) + parseFloat(parent_style.marginRight) + parseFloat(parent_style.borderLeftWidth) + parseFloat(parent_style.borderRightWidth);
            parent = parent.parentNode;
        }
        return parent_width;
    }
    var getOuterW=function(dom){
        var style=getComputedStyle(dom),
            w=0;
        if(!!style){
            w = parseFloat(style.paddingLeft) + parseFloat(style.paddingRight) + parseFloat(style.borderLeftWidth) + parseFloat(style.borderRightWidth);
        }
        return w;
    };
    var getOuterH =function(dom){
        var style=getComputedStyle(dom),
            h=0;
        if(!!style){
            h = parseFloat(style.paddingTop) + parseFloat(style.paddingBottom) + parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);
        }
        return h;
    };
    var insertAfter = function(dom,afterDom){
        var _p = afterDom.parentNode;
        if(!_p){
            return;
        }
        if(_p.lastChild === afterDom){
            _p.appendChild(dom);
        }else{
            _p.insertBefore(dom,afterDom.nextSibling);
        }
    };
    var getQuery = function(name,url){
        
        var u  = arguments[1] || window.location.search,
            reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)"),
            r = u.substr(u.indexOf("\?")+1).match(reg);
        return r!=null?r[2]:"";
    };

    
    function setImgSize(item, widthNum, widthUnit, ratio, breakParentWidth) {
        setTimeout(function () {
            var img_padding_border = getOuterW(item) || 0;
            var img_padding_border_top_bottom = getOuterH(item) || 0;
            
            if (widthNum > getParentWidth(item) && !breakParentWidth) {
                widthNum = getParentWidth(item);
            }

            height = (widthNum - img_padding_border) * ratio + img_padding_border_top_bottom;

            if (isIE) {
                var url = item.getAttribute('data-src');
                item.src = url;
            } else {
                if(parseFloat(widthNum, 10) > 40 && height > 40 && breakParentWidth) {
                    item.className += ' img_loading';
                }
                item.src = "data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==";
            }
            item.style.cssText += ";width: " + widthNum + widthUnit + " !important;";
            item.style.cssText += ";height: " + height + widthUnit + " !important;";
        }, 50);
    }

    (function(){
        var images = document.getElementsByTagName('img');
        var length = images.length;
        var max_width = getMaxWith();
        for (var i = 0; i < length; ++i) {
            if (window.__second_open__ && images[i].getAttribute('__sec_open_place_holder__')) {
                continue;
            }
            var imageItem = images[i];
            var src_ = imageItem.getAttribute('data-src');
            var realSrc = imageItem.getAttribute('src');
            if (!src_ || realSrc) continue;
            
            var originWidth = imageItem.getAttribute('data-w');
            var ratio_ = 1 * imageItem.getAttribute('data-ratio');

            var height = 100;
            if (ratio_ && ratio_ > 0) {
                var parent_width = getParentWidth(imageItem) || max_width;
                var initWidth = imageItem.style.width || imageItem.getAttribute('width') || originWidth || parent_width;
                initWidth = parseFloat(initWidth, 10) > max_width ? max_width : initWidth;
                
                if (initWidth) {
                    imageItem.setAttribute('_width', !isNaN(initWidth * 1) ? initWidth + 'px' : initWidth);
                }
                
                if (typeof initWidth === 'string' && initWidth.indexOf('%') !== -1) {
                    initWidth = parseFloat(initWidth.replace('%', ''), 10) / 100 * parent_width;
                }
                
                if (initWidth === 'auto') {
                    initWidth = originWidth;
                }

                var res = /^(\d+(?:\.\d+)?)([a-zA-Z%]+)?$/.exec(initWidth);
                var widthNum = res && res.length >= 2 ? res[1] : 0;
                var widthUnit = res && res.length >= 3 && res[2] ? res[2] : 'px';

                
                setImgSize(imageItem, widthNum, widthUnit, ratio_, true);
                
                (function (item, widthNumber, unit, ratio) {
                    setTimeout(function () {
                        setImgSize(item, widthNumber, unit, ratio, false);
                    });
                })(imageItem, widthNum, widthUnit, ratio_);
            } else {
                imageItem.style.cssText += ";visibility: hidden !important;";
            }

        }
    })();
    window.__videoDefaultRatio=16/9;
    window.__getVideoWh = function(dom){
        var max_width = getMaxWith(),
            width = max_width,
            ratio_ = dom.getAttribute('data-ratio')*1,
            arr = [4/3, 16/9],
            ret = arr[0],
            abs = Math.abs(ret - ratio_);
        if (!ratio_) { 
            if (dom.getAttribute("data-mpvid")) { 
                ratio_ = 16/9;
            } else { 
                ratio_ = 4/3;
            }
        } else { 
            for (var j = 1, jl = arr.length; j < jl; j++) {
                var _abs = Math.abs(arr[j] - ratio_);
                if (_abs < abs) {
                    abs = _abs;
                    ret = arr[j];
                }
            }
            ratio_ = ret;
        }
        
        var parent_width = getParentWidth(dom)||max_width,
            width = width > parent_width ? parent_width : width,
            outerW = getOuterW(dom)||0,
            outerH = getOuterH(dom)||0,
            videoW = width - outerW,
            videoH = videoW/ratio_,
            height = videoH + outerH;
        return {w:Math.ceil(width),h:Math.ceil(height),vh:videoH,vw:videoW,ratio:ratio_};
    };


    (function(){
        var iframe = document.getElementsByTagName('iframe');
        for (var i=0,il=iframe.length;i<il;i++) {
            if (window.__second_open__ && iframe[i].getAttribute('__sec_open_place_holder__')) {
                continue;
            }
            var a = iframe[i];
            var src_ = a.getAttribute('src')||a.getAttribute('data-src')||"";
            if(!/^http(s)*\:\/\/v\.qq\.com\/iframe\/(preview|player)\.html\?/.test(src_)
                && !/^http(s)*\:\/\/mp\.weixin\.qq\.com\/mp\/readtemplate\?t=pages\/video_player_tmpl/.test(src_)
            ){
                continue;
            }
            var vid = getQuery("vid",src_);
            if(!vid){
                continue;
            }
            vid=vid.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");
            a.removeAttribute('src');
            a.style.display = "none";
            var obj = window.__getVideoWh(a),
                videoPlaceHolderSpan = document.createElement('span'),
                videoPlayerIconSpan = document.createElement('span'),
                mydiv = document.createElement('img');

            videoPlaceHolderSpan.className = "js_img_loading db";
            videoPlaceHolderSpan.setAttribute("data-vid", vid);
            

            videoPlayerIconSpan.className = 'wx_video_context db'; 
            videoPlayerIconSpan.style.display = 'none';
            videoPlayerIconSpan.innerHTML = '<span class="wx_video_thumb_primary"></span><button class="wx_video_play_btn">播放</button><span class="wx_video_mask"></span>'; 

            mydiv.className = "img_loading";

            mydiv.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==";
            
            
            videoPlaceHolderSpan.style.cssText = "width: " + obj.w + "px !important;";
            mydiv.style.cssText += ";width: " + obj.w + "px";
            videoPlaceHolderSpan.appendChild(videoPlayerIconSpan);
            videoPlaceHolderSpan.appendChild(mydiv);
            insertAfter(videoPlaceHolderSpan, a); 
            
            a.style.cssText += ";width: " + obj.w + "px !important;";
            a.setAttribute("width",obj.w);
            if(window.__zoom!=1){
                a.style.display = "block";
                videoPlaceHolderSpan.style.display = "none";
                a.setAttribute("_ratio",obj.ratio);
                a.setAttribute("_vid",vid);
            }else{
                videoPlaceHolderSpan.style.cssText += "height: " + obj.h + "px !important;";
                mydiv.style.cssText += "height: " + obj.h + "px !important;";
                a.style.cssText += "height: " + obj.h + "px !important;";
                a.setAttribute("height",obj.h);
            }
            a.setAttribute("data-vh",obj.vh);
            a.setAttribute("data-vw",obj.vw);
            if(a.getAttribute("data-mpvid")){
                a.setAttribute("data-src",location.protocol+"//mp.weixin.qq.com/mp/readtemplate?t=pages/video_player_tmpl&auto=0&vid="+vid);
            }else{
                a.setAttribute("data-src",location.protocol+"//v.qq.com/iframe/player.html?vid="+ vid + "&width="+obj.vw+"&height="+obj.vh+"&auto=0");   
            }            
        }
    })();
    
    (function(){
        if(window.__zoom!=1){
            if (!window.__second_open__) {
                document.getElementById('page-content').style.zoom = window.__zoom;
                var a = document.getElementById('activity-name');
                var b = document.getElementById('meta_content');
                if(!!a){
                    a.style.zoom = 1/window.__zoom;
                }
                if(!!b){
                    b.style.zoom = 1/window.__zoom;
                }
            }
            var images = document.getElementsByTagName('img');
            for (var i = 0,il=images.length;i<il;i++) {
                if (window.__second_open__ && images[i].getAttribute('__sec_open_place_holder__')) {
                    continue;
                }
                images[i].style.zoom = 1/window.__zoom;
            }
            var iframe = document.getElementsByTagName('iframe');
            for (var i = 0,il=iframe.length;i<il;i++) {
                if (window.__second_open__ && iframe[i].getAttribute('__sec_open_place_holder__')) {
                    continue;
                }
                var a = iframe[i];
                a.style.zoom = 1/window.__zoom;
                var src_ = a.getAttribute('data-src')||"";
                if(!/http(s)*\:\/\/v\.qq\.com\/iframe\/(preview|player)\.html\?/.test(src_)){
                    continue;
                }
                var ratio = a.getAttribute("_ratio");
                var vid = a.getAttribute("_vid");
                a.removeAttribute("_ratio");
                a.removeAttribute("_vid");
                var vw = a.offsetWidth - (getOuterW(a)||0);
                var vh = vw/ratio;
                var h = vh + (getOuterH(a)||0)
                a.style.cssText += "height: " + h + "px !important;"
                a.setAttribute("height",h);
                a.setAttribute("data-src",location.protocol+"//v.qq.com/iframe/player.html?vid="+ vid + "&width="+vw+"&height="+vh+"&auto=0");
                a.style.display = "none";
                var parent = a.parentNode;
                if(!parent){
                    continue;
                }
                for(var j=0,jl=parent.children.length;j<jl;j++){
                    var child = parent.children[j];
                    if(child.className.indexOf("img_loading")>=0 && child.getAttribute("data-vid")==vid){
                        child.style.cssText += "height: " + h + "px !important;";
                        child.style.display = "";
                    }
                }
            }
        }
    })();
})();
</script>
<script nonce="1762986970" type="text/javascript">
    var new_appmsg = 1;
    var item_show_type = "0";
    var can_see_complaint = "0";
    var not_in_mm_css = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/not_in_mm3ec991.css";
    var windowwx_css = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx3ec991.css";
    var article_improve_combo_css = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/combo41834c.css";
    var tid = "";
    var aid = "";
    var clientversion = "";
    var appuin = ""||"MzA3NzM0NzkxMQ==";

    var source = "";
    var ascene = "";
    var subscene = "";
    var sessionid = "";
    var abtest_cookie = "";

    var scene = 75;

    var itemidx = "";
    var appmsg_token   = "";
    var _copyright_stat = "0";
    var _ori_article_type = "";

    var is_follow = "";
    var nickname = "iOS开发";
    var appmsg_type = "9";
    var ct = "1525172460";
    var publish_time = "2018-05-01" || "";
    var user_name = "gh_33fa0065e3f3";
    var user_name_new = "";
    var fakeid   = "";
    var version   = "";
    var is_limit_user   = "0";
    var round_head_img = "http://mmbiz.qpic.cn/mmbiz_png/8RTSPr4mlym4G4RBiauvgNQSIgS79mHb59kvtI42cOQxqarl9iaqyicYemy3s5NTtREU9zndNGB4LMpr8oRHqAB1Q/0?wx_fmt=png";
    var hd_head_img = "http://wx.qlogo.cn/mmhead/Q3auHgzwzM4X0sib7iaelw43ib9DTeGmAApyGqwVjSLql8OwtTV7PMz5g/0"||"";
    var ori_head_img_url = "http://wx.qlogo.cn/mmhead/Q3auHgzwzM4X0sib7iaelw43ib9DTeGmAApyGqwVjSLql8OwtTV7PMz5g/132";
    var msg_title = "一份走心的iOS开发规范";
    var msg_desc = "随着公司业务的不断增加，功能的快速迭代，app的业务线越来越多，代码体积变得越来越庞大。加之公司开发者人员变动，为了保证app稳定性，保证开发效率，统一开发风格。";
    var msg_cdn_url = "http://mmbiz.qpic.cn/mmbiz_jpg/foPACGrddJ1Oaj3N744kMcibVAzQPdicqbqPBrhXFlHscJel7yuoQib3xbVlIgXuOZyc9gcWckWcSH6gOe8XTrS4Q/0?wx_fmt=jpeg"; 
    var cdn_url_1_1  = ""; 
    var cdn_url_235_1 = ""; 
    
    var msg_link = "http://mp.weixin.qq.com/s?__biz=MzA3NzM0NzkxMQ==&amp;mid=2655359665&amp;idx=1&amp;sn=6fd31a66297b00ae558ebbac1eeb8666&amp;chksm=84e25f99b395d68f8c94dcaa9e7fd0a1d2cf171d96c57cf0ad0483339ed86f15dc87a378e4e2#rd"; 
    var user_uin = "0"*1;
    var msg_source_url = '';
    var img_format = 'jpeg';
    var srcid = '';
    var req_id = '2617XKvRw4XCFwujxXVhiR8o';
    var networkType;
    var appmsgid = '' || ''|| "2655359665";
    var comment_id = "259312199229538305" || "259312199229538305" * 1;
    var comment_enabled = "" * 1;
    var is_need_reward = "0" * 1;
    var is_https_res = ("" * 1) && (location.protocol == "https:");
    var msg_daily_idx = "1" || "";
    var profileReportInfo = "" || "";

    var devicetype = "";
    var source_encode_biz = "";
    var source_username = "";
    
    var reprint_ticket = "";
    var source_mid = "";
    var source_idx = "";
    var source_biz = "";
    var author_id = "";

    
    var optimizing_flag = "0" * 1;
    var ad_abtest_padding = "0" * 1;

    var show_comment = "";
    var __appmsgCgiData = {
        wxa_product : ""*1,
        wxa_cps : ""*1,
        show_msg_voice: "0"*1,
        can_use_page : "0"*1,
        is_wxg_stuff_uin : "0"*1,
        card_pos : "",
        copyright_stat : "0",
        source_biz : "",
        hd_head_img : "http://wx.qlogo.cn/mmhead/Q3auHgzwzM4X0sib7iaelw43ib9DTeGmAApyGqwVjSLql8OwtTV7PMz5g/0"||(window.location.protocol+"//"+window.location.host + "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_rumor_link.2x264e76.jpg")
    };
    var _empty_v = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/pages/voice/empty26f1f1.mp3";

    var copyright_stat = "0" * 1;

    var pay_fee = "" * 1;
    var pay_timestamp = "";
    var need_pay = "" * 1;

    var need_report_cost = "0" * 1;
    var use_tx_video_player = "0" * 1;
    var appmsg_fe_filter = "contenteditable";

    var friend_read_source = "" || "";
    var friend_read_version = "" || "";
    var friend_read_class_id = "" || "";

    var is_only_read = "1" * 1;
    var read_num = "" * 1;
    var like_num = "" * 1;
    var liked = "" == 'true' ? true : false;
    var is_temp_url = "" ? 1 : 0;
    var send_time = "";
    var icon_emotion_switch = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/emotion/icon_emotion_switch.2x2f1273.png";
    var icon_emotion_switch_active = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/emotion/icon_emotion_switch_active.2x2f1273.png";
    var icon_loading_white = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/common/icon_loading_white2805ea.gif";
    var icon_audio_unread = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/audio/icon_audio_unread26f1f1.png";
    var icon_qqmusic_default = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/qqmusic/icon_qqmusic_default.2x26f1f1.png";
    var icon_qqmusic_source = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/qqmusic/icon_qqmusic_source393e3a.png";
    var icon_kugou_source = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/kugou/icon_kugou_source393e3a.png";

    var topic_default_img = '//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/topic/pic_book_thumb.2x2e4987.png';
    var comment_edit_icon = '//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg_new/icon_edit36906d.png';
    var comment_loading_img = '//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/common/icon_loading_white2805ea.gif';

    var voice_in_appmsg = {
        "1":"1"
            };

    var reprint_style = ''*1;
    var wxa_img_alert = "" != 'false';

    
    
    
    

    
    var weapp_sn_arr_json = "" || "";

    
    var ban_scene = "0" * 1;

    var svr_time = "1543223367" * 1;
    
    var is_transfer_msg = ""*1||0;

    var malicious_title_reason_id = "0" * 1; 
    var malicious_content_type = "0" * 1; 

    
    var modify_time = "";

    
    var isprofileblock = "0";

    
    var hotspotInfoList = [
                    ];

        window.wxtoken = "777";
        
    
    
    
    
    window.is_login = '0' * 1; 

    window.__moon_initcallback = function(){
        if(!!window.__initCatch){
            window.__initCatch({
                idkey : 27611+2,
                startKey : 0,
                limit : 128,
                badjsId: 43,
                reportOpt : {
                    uin : uin,
                    biz : biz,
                    mid : mid,
                    idx : idx,
                    sn  : sn
                },
                extInfo : {
                    network_rate : 0.01,    
                    badjs_rate: 0.1 
                }
            });
        }
    }
        
    var title ="iOS开发";


    var is_new_msg=true;
</script>

        <script nonce="1762986970">window.__moon_host = 'res.wx.qq.com';window.__moon_mainjs = 'appmsg/index.js';window.moon_map = {"a/appdialog_confirm.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/appdialog_confirm.html34f0d8.js","widget/wx_profile_dialog_primary.css":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/widget/wx_profile_dialog_primary.css3de35e.js","pages/iframe_communicate.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/iframe_communicate409b7e.js","new_video/player.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/new_video/player.html410d1c.js","biz_wap/zepto/touch.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/zepto/touch34c264.js","biz_wap/zepto/event.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/zepto/event34c264.js","biz_wap/zepto/zepto.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/zepto/zepto34c264.js","page/pages/video.css":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/pages/video.css40526b.js","a/tpl/sponsor_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/sponsor_tpl.html3fe228.js","a/tpl/new_cpc_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/new_cpc_tpl.html402b93.js","appmsg/emotion/caret.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/emotion/caret278965.js","biz_wap/utils/localstorage.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/localstorage36c4f2.js","appmsg/friend_comment_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/friend_comment_tpl.html3de35e.js","appmsg/comment_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/comment_tpl.html3de35e.js","biz_wap/utils/fakehash.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/fakehash38c7af.js","appmsg/comment_report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/comment_report3d5603.js","a/appdialog_confirm.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/appdialog_confirm34c32a.js","new_video/player.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/new_video/player41b4d4.js","a/tpl/crt_size_map.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/crt_size_map3fe228.js","biz_wap/jsapi/cardticket.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/jsapi/cardticket34c264.js","biz_common/jquery.md5.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/jquery.md53518c6.js","biz_common/utils/emoji_panel_data.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/emoji_panel_data3518c6.js","biz_common/utils/emoji_data.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/emoji_data3518c6.js","appmsg/emotion/textarea.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/emotion/textarea3d171e.js","appmsg/emotion/nav.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/emotion/nav278965.js","appmsg/emotion/common.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/emotion/common3518c6.js","appmsg/emotion/slide.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/emotion/slide2a9cd9.js","appmsg/emotion/dom.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/emotion/dom31ff31.js","biz_common/utils/wxgspeedsdk.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/wxgspeedsdk3518c6.js","pages/music_report_conf.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/music_report_conf3c6d6e.js","pages/report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/report41b4d4.js","pages/player_adaptor.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/player_adaptor39d6ee.js","pages/music_player.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/music_player3d3b85.js","pages/loadscript.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/loadscript3d3b85.js","biz_wap/utils/ajax_load_js.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/ajax_load_js3d3b85.js","appmsg/comment.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/comment41b040.js","a/video.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/video40bd1e.js","a/ios.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/ios3ff7ef.js","a/android.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/android40038e.js","a/profile.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/profile41b040.js","a/app_card.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/app_card41fe77.js","a/sponsor.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/sponsor409b7e.js","a/tpl/cpc_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/cpc_tpl.html402b93.js","a/tpl/crt_tpl_manager.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/crt_tpl_manager41b040.js","a/cpc_a_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/cpc_a_tpl.html3e57e7.js","a/sponsor_a_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/sponsor_a_tpl.html3ec2ed.js","a/a_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/a_tpl.html417d8e.js","a/mpshop.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/mpshop3ff7ef.js","a/wxopen_card.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/wxopen_card41b040.js","a/card.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/card311179.js","biz_wap/utils/position.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/position34c264.js","a/a_report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/a_report41b040.js","biz_wap/utils/show_time.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/show_time41444b.js","biz_common/utils/get_para_list.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/get_para_list40c31a.js","biz_wap/utils/openUrl.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/openUrl41d825.js","a/a_sign.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/a_sign41b040.js","appmsg/my_comment_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/my_comment_tpl.html41fe77.js","appmsg/cmt_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/cmt_tpl.html3de35e.js","sougou/a_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/sougou/a_tpl.html2c6e7c.js","appmsg/emotion/emotion.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/emotion/emotion3f5bf4.js","biz_common/base64.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/base643518c6.js","biz_wap/utils/wapsdk.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/wapsdk34c264.js","biz_common/utils/report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/report3518c6.js","appmsg/articleReport.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/articleReport3de35e.js","biz_wap/utils/hand_up_state.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/hand_up_state3e72f4.js","biz_common/utils/http.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/http3518c6.js","biz_common/utils/cookie.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/cookie3518c6.js","appmsg/topic_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/topic_tpl.html31ff31.js","pages/weapp_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/weapp_tpl.html36906d.js","biz_common/utils/monitor.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/monitor3518c6.js","pages/voice_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/voice_tpl.html38518d.js","pages/kugoumusic_ctrl.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/kugoumusic_ctrl3d171e.js","pages/qqmusic_ctrl.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/qqmusic_ctrl3d171e.js","pages/voice_component.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/voice_component406e84.js","pages/qqmusic_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/qqmusic_tpl.html393e3a.js","new_video/ctl.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/new_video/ctl41b4d4.js","appmsg/open_url_with_webview.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/open_url_with_webview3d3b85.js","a/testdata.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/testdata3bb523.js","appmsg/reward_entry.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/reward_entry3ebded.js","appmsg/like.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/like3d171e.js","pages/version4video.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/version4video40c91a.js","biz_wap/utils/storage.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/storage34c264.js","appmsg/share_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/share_tpl.html36906d.js","appmsg/appmsgext.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/appmsgext41b040.js","appmsg/img_copyright_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/img_copyright_tpl.html2a2c13.js","pages/video_ctrl.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/video_ctrl4047ec.js","pages/create_txv.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/create_txv401e7e.js","appmsg/comment_utils.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/comment_utils41b040.js","biz_common/ui/imgonepx.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/ui/imgonepx3518c6.js","appmsg/malicious_wording.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/malicious_wording3dd66a.js","a/a.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/a41fe77.js","rt/appmsg/getappmsgext.rt.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/rt/appmsg/getappmsgext.rt2c21f6.js","pages/video_communicate_adaptor.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/video_communicate_adaptor41b4d4.js","biz_wap/utils/ajax_wx.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/ajax_wx405300.js","biz_common/utils/respTypes.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/respTypes3518c6.js","biz_wap/utils/log.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/log34c264.js","sougou/index.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/sougou/index41fe77.js","biz_wap/safe/mutation_observer_report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/safe/mutation_observer_report34c264.js","appmsg/fereport.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/fereport410774.js","appmsg/fereport_without_localstorage.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/fereport_without_localstorage413fb1.js","appmsg/report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/report3d6a60.js","appmsg/report_and_source.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/report_and_source407ef0.js","appmsg/page_pos.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/page_pos4137de.js","appmsg/cdn_speed_report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/cdn_speed_report3d6a60.js","appmsg/wxtopic.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/wxtopic31a3be.js","appmsg/weapp.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/weapp3ff8fe.js","appmsg/weproduct.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/weproduct3f868a.js","appmsg/voicemsg.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/voicemsg3b1748.js","appmsg/autoread.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/autoread3af14e.js","appmsg/voice.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/voice38518d.js","appmsg/qqmusic.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/qqmusic3d171e.js","appmsg/iframe.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/iframe41b4d4.js","appmsg/product.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/product393966.js","appmsg/review_image.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/review_image41b4d4.js","appmsg/outer_link.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/outer_link3e0906.js","appmsg/copyright_report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/copyright_report2ec4b2.js","appmsg/async.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/async41b040.js","biz_wap/ui/lazyload_img.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/ui/lazyload_img4137de.js","biz_common/log/jserr.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/log/jserr3518c6.js","appmsg/share.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/share41caca.js","appmsg/cdn_img_lib.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/cdn_img_lib41931e.js","appmsg/finance_communicate.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/finance_communicate41f711.js","page/appmsg_new/not_in_mm.css":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/not_in_mm.css3ec991.js","page/appmsg_new/combo.css":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/combo.css41834c.js","a/mpAdAsync.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/mpAdAsync41b040.js","biz_common/utils/url/parse.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/url/parse36ebcf.js","appmsg/appmsg_report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/appmsg_report41b4d4.js","biz_common/moment.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/moment3518c6.js","biz_wap/jsapi/core.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/jsapi/core3d3b85.js","biz_common/dom/event.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/dom/event3a25e9.js","appmsg/test.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/test3d3b85.js","biz_wap/utils/mmversion.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/mmversion3de208.js","appmsg/max_age.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/max_age3d3b85.js","biz_common/dom/attr.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/dom/attr3518c6.js","biz_wap/utils/ajax.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/ajax405300.js","appmsg/log.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/log300330.js","biz_common/dom/class.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/dom/class3518c6.js","biz_wap/utils/device.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/device3e2bd7.js","appmsg/weapp_common.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/weapp_common41b040.js","biz_common/utils/string/html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/string/html410c03.js","cps/tpl/list_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/cps/tpl/list_tpl.html3f868a.js","cps/tpl/card_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/cps/tpl/card_tpl.html3f868a.js","cps/tpl/banner_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/cps/tpl/banner_tpl.html3f868a.js","biz_common/tmpl.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/tmpl3518c6.js","appmsg/index.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/index41fe77.js"};</script><script nonce="1762986970" type="text/javascript" id="moon_inline" > window.__mooninline=1; window.setTimeout(function() {  function __moonf__(){
if(!window.__moonhasinit){
window.__moonhasinit=!0,window.__moonclientlog=[],window.__wxgspeeds&&(window.__wxgspeeds.moonloadedtime=+new Date),
"object"!=typeof JSON&&(window.JSON={
stringify:function(){
return"";
},
parse:function(){
return{};
}
});
var e=function(){
function e(e){
try{
var o;
/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?o="writeLog":/(Android)/i.test(navigator.userAgent)&&(o="log"),
o&&t(o,e);
}catch(n){
throw console.error(n),n;
}
}
function t(e,o){
var n,r,i={};
n=top!=window?top.window:window;
try{
r=n.WeixinJSBridge,i=n.document;
}catch(a){}
e&&r&&r.invoke?r.invoke(e,{
level:"info",
msg:"[WechatFe][moon]"+o
}):setTimeout(function(){
i.addEventListener?i.addEventListener("WeixinJSBridgeReady",function(){
t(e,o);
},!1):i.attachEvent&&(i.attachEvent("WeixinJSBridgeReady",function(){
t(e,o);
}),i.attachEvent("onWeixinJSBridgeReady",function(){
t(e,o);
}));
},0);
}
var n;
localStorage&&JSON.parse(localStorage.getItem("__WXLS__moonarg"))&&"fromls"==JSON.parse(localStorage.getItem("__WXLS__moonarg")).method&&(n=!0),
e(" moon init, moon_inline:"+window.__mooninline+", moonls:"+n),function(){
var e={},o={},t={};
e.COMBO_UNLOAD=0,e.COMBO_LOADING=1,e.COMBO_LOADED=2;
var n=function(e,t,n){
if(!o[e]){
o[e]=n;
for(var r=3;r--;)try{
moon.setItem(moon.prefix+e,n.toString()),moon.setItem(moon.prefix+e+"_ver",moon_map[e]);
break;
}catch(i){
moon.clear();
}
}
},r=window.alert;
window.__alertList=[],window.alert=function(e){
r(e),window.__alertList.push(e);
};
var i=function(e){
if(!e||!o[e])return null;
var n=o[e];
if("function"==typeof n&&!t[e]){
var a={},s={
exports:a
},c=n(i,a,s,r);
n=o[e]=c||s.exports,t[e]=!0;
}
if(".css"===e.substr(-4)){
var d=document.getElementById(e);
if(!d){
d=document.createElement("style"),d.id=e;
var _=/url\s*\(\s*\/(\"(?:[^\\\"\r\n\f]|\\[\s\S])*\"|'(?:[^\\'\n\r\f]|\\[\s\S])*'|[^)}]+)\s*\)/g,m=window.testenv_reshost||window.__moon_host||"res.wx.qq.com";
n=n.replace(_,"url(//"+m+"/$1)"),d.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(d);
}
}
return n;
};
e.combo_status=e.COMBO_UNLOAD,e.run=function(){
var o=e.run.info,t=o&&o[0],n=o&&o[1];
if(t&&e.combo_status==e.COMBO_LOADED){
var r=i(t);
n&&n(r);
}
},e.use=function(o,t){
window.__wxgspeeds&&(window.__wxgspeeds.seajs_use_time=+new Date),e.run.info=[o,t],
e.run();
},window.define=n,window.seajs=e;
}(),function(){
if(window.__nonce_str){
var e=document.createElement;
document.createElement=function(o){
var t=e.apply(this,arguments);
return"object"==typeof o&&(o=o.toString()),"string"==typeof o&&"script"==o.toLowerCase()&&t.setAttribute("nonce",window.__nonce_str),
t;
};
}
window.addEventListener&&window.__DEBUGINFO&&Math.random()<.01&&window.addEventListener("load",function(){
var e=document.createElement("script");
e.src=__DEBUGINFO.safe_js,e.type="text/javascript",e.async=!0;
var o=document.head||document.getElementsByTagName("head")[0];
o.appendChild(e);
});
}(),function(){
function t(e){
return"[object Array]"===Object.prototype.toString.call(e);
}
function n(e){
return"[object Object]"===Object.prototype.toString.call(e);
}
function r(e){
var t=e.stack+" "+e.toString()||"";
try{
if(window.testenv_reshost){
var n="http(s)?://"+window.testenv_reshost,r=new RegExp(n,"g");
t=t.replace(r,"");
}else t=t.replace(/http(s)?:\/\/res\.wx\.qq\.com/g,"");
for(var r=/\/([^.]+)\/js\/(\S+?)\.js(\,|:)?/g;r.test(t);)t=t.replace(r,function(e,o,t,n){
return t+n;
});
}catch(e){
t=e.stack?e.stack:"";
}
var i=[];
for(o in u)u.hasOwnProperty(o)&&i.push(o+":"+u[o]);
return i.push("STK:"+t.replace(/\n/g,"")),i.join("|");
}
function i(e){
if(!e){
var o=window.onerror;
window.onerror=function(){},f=setTimeout(function(){
window.onerror=o,f=null;
},50);
}
}
function a(e,o,t){
if(!/^mp\.weixin\.qq\.com$/.test(location.hostname)){
var n=[];
t=t.replace(location.href,(location.origin||"")+(location.pathname||"")).replace("#wechat_redirect","").replace("#rd","").split("&");
for(var r=0,i=t.length;i>r;r++){
var a=t[r].split("=");
a[0]&&a[1]&&n.push(a[0]+"="+encodeURIComponent(a[1]));
}
var s=new window.Image;
return void(s.src=(o+n.join("&")).substr(0,1024));
}
var c;
if(window.ActiveXObject)try{
c=new ActiveXObject("Msxml2.XMLHTTP");
}catch(d){
try{
c=new ActiveXObject("Microsoft.XMLHTTP");
}catch(_){
c=!1;
}
}else window.XMLHttpRequest&&(c=new XMLHttpRequest);
c&&(c.open(e,o,!0),c.setRequestHeader("cache-control","no-cache"),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),
c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.send(t));
}
function s(e){
return function(o,t){
if("string"==typeof o)try{
o=new Function(o);
}catch(n){
throw n;
}
var r=[].slice.call(arguments,2),a=o;
return o=function(){
try{
return a.apply(this,r.length&&r||arguments);
}catch(e){
throw e.stack&&console&&console.error&&console.error("[TryCatch]"+e.stack),_&&window.__moon_report&&(window.__moon_report([{
offset:j,
log:"timeout_error;host:"+location.host,
e:e
}]),i(f)),e;
}
},e(o,t);
};
}
function c(e){
return function(o,t,n){
if("undefined"==typeof n)var n=!1;
var r=this,a=t||function(){};
return t=function(){
try{
return a.apply(r,arguments);
}catch(e){
throw e.stack&&console&&console.error&&console.error("[TryCatch]"+e.stack),_&&window.__moon_report&&(window.__moon_report([{
offset:x,
log:"listener_error;type:"+o+";host:"+location.host,
e:e
}]),i(f)),e;
}
},a.moon_lid=E,b[E]=t,E++,e.call(r,o,t,n);
};
}
function d(e){
return function(o,t,n){
if("undefined"==typeof n)var n=!1;
var r=this;
return t=b[t.moon_lid],e.call(r,o,t,n);
};
}
var _,m,l,w,u,p,f,h=/MicroMessenger/i.test(navigator.userAgent),g=/MPAPP/i.test(navigator.userAgent),v=window.define,y=0,x=2,O=4,j=9,D=10;
if(window.__initCatch=function(e){
_=e.idkey,m=e.startKey||0,l=e.limit,w=e.badjsId,u=e.reportOpt||"",p=e.extInfo||{},
p.rate=p.rate||.5;
},window.__moon_report=function(e,o){
var i=!1,s="";
try{
s=top.location.href;
}catch(c){
i=!0;
}
var d=.5;
if(p&&p.rate&&(d=p.rate),o&&"number"==typeof o&&(d=o),!(!/mp\.weixin\.qq\.com/.test(location.href)&&!/payapp\.weixin\.qq\.com/.test(location.href)||Math.random()>d||!h&&!g||top!=window&&!i&&!/mp\.weixin\.qq\.com/.test(s))&&(n(e)&&(e=[e]),
t(e)&&""!=_)){
var u="",f=[],v=[],y=[],x=[];
"number"!=typeof l&&(l=1/0);
for(var j=0;j<e.length;j++){
var D=e[j]||{};
if(!(D.offset>l||"number"!=typeof D.offset||D.offset==O&&p&&p.network_rate&&Math.random()>=p.network_rate)){
var b=1/0==l?m:m+D.offset;
f[j]="[moon]"+_+"_"+b+";"+D.log+";"+r(D.e||{})||"",v[j]=b,y[j]=1;
}
}
for(var E=0;E<v.length;E++)x[E]=_+"_"+v[E]+"_"+y[E],u=u+"&log"+E+"="+f[E];
if(x.length>0){
a("POST",location.protocol+"//mp.weixin.qq.com/mp/jsmonitor?","idkey="+x.join(";")+"&r="+Math.random()+"&lc="+f.length+u);
var d=1;
if(p&&p.badjs_rate&&(d=p.badjs_rate),w&&Math.random()<d){
u=u.replace(/uin\:(.)*\|biz\:(.)*\|mid\:(.)*\|idx\:(.)*\|sn\:(.)*\|/,"");
var S=new Image,I="https://badjs.weixinbridge.com/badjs?id="+w+"&level=4&from="+encodeURIComponent(location.host)+"&msg="+encodeURIComponent(u);
S.src=I.slice(0,1024);
}
}
}
},window.setTimeout=s(window.setTimeout),window.setInterval=s(window.setInterval),
Math.random()<.01&&window.Document&&window.HTMLElement){
var b={},E=0;
Document.prototype.addEventListener=c(Document.prototype.addEventListener),Document.prototype.removeEventListener=d(Document.prototype.removeEventListener),
HTMLElement.prototype.addEventListener=c(HTMLElement.prototype.addEventListener),
HTMLElement.prototype.removeEventListener=d(HTMLElement.prototype.removeEventListener);
}
var S=window.navigator.userAgent;
if((/ip(hone|ad|od)/i.test(S)||/android/i.test(S))&&!/windows phone/i.test(S)&&window.localStorage&&window.localStorage.setItem){
var I=window.localStorage.setItem,L=0;
window.localStorage.setItem=function(e,o){
if(!(L>=10))try{
I.call(window.localStorage,e,o);
}catch(t){
t.stack&&console&&console.error&&console.error("[TryCatch]"+t.stack),window.__moon_report([{
offset:D,
log:"localstorage_error;"+t.toString(),
e:t
}]),L++,L>=3&&window.moon&&window.moon.clear&&moon.clear();
}
};
}
window.seajs&&v&&(window.define=function(){
for(var o,t=[],n=arguments&&arguments[0],a=0,s=arguments.length;s>a;a++){
var c=o=arguments[a];
"function"==typeof o&&(o=function(){
try{
return c.apply(this,arguments);
}catch(o){
throw"string"==typeof n&&console.error("[TryCatch][DefineeErr]id:"+n),o.stack&&console&&console.error&&console.error("[TryCatch]"+o.stack),
_&&window.__moon_report&&(window.__moon_report([{
offset:y,
log:"define_error;id:"+n+";",
e:o
}]),i(f)),e(" [define_error]"+JSON.stringify(r(o))),o;
}
},o.toString=function(e){
return function(){
return e.toString();
};
}(arguments[a])),t.push(o);
}
return v.apply(this,t);
});
}(),function(o){
function t(e,o,t){
return window.__DEBUGINFO?(window.__DEBUGINFO.res_list||(window.__DEBUGINFO.res_list=[]),
window.__DEBUGINFO.res_list[e]?(window.__DEBUGINFO.res_list[e][o]=t,!0):!1):!1;
}
function n(e){
var o=new TextEncoder("utf-8").encode(e),t=crypto.subtle||crypto.webkitSubtle;
return t.digest("SHA-256",o).then(function(e){
return r(e);
});
}
function r(e){
for(var o=[],t=new DataView(e),n=0;n<t.byteLength;n+=4){
var r=t.getUint32(n),i=r.toString(16),a="00000000",s=(a+i).slice(-a.length);
o.push(s);
}
return o.join("");
}
function i(e,o,t){
if("object"==typeof e){
var n=Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,function(e,o){
return o;
});
if(t=t||e,"Array"==n){
for(var r=0,i=e.length;i>r;++r)if(o.call(t,e[r],r,e)===!1)return;
}else{
if("Object"!==n&&a!=e)throw"unsupport type";
if(a==e){
for(var r=e.length-1;r>=0;r--){
var s=a.key(r),c=a.getItem(s);
if(o.call(t,c,s,e)===!1)return;
}
return;
}
for(var r in e)if(e.hasOwnProperty(r)&&o.call(t,e[r],r,e)===!1)return;
}
}
}
var a=o.localStorage,s=document.head||document.getElementsByTagName("head")[0],c=1,d=11,_=12,m=13,l=window.__allowLoadResFromMp?1:2,w=window.__allowLoadResFromMp?1:0,u=l+w,p=window.testenv_reshost||window.__moon_host||"res.wx.qq.com",f=new RegExp("^(http(s)?:)?//"+p);
window.__loadAllResFromMp&&(p="mp.weixin.qq.com",l=0,u=l+w);
var h={
prefix:"__MOON__",
loaded:[],
unload:[],
clearSample:!0,
hit_num:0,
mod_num:0,
version:1003,
cacheData:{
js_mod_num:0,
js_hit_num:0,
js_not_hit_num:0,
js_expired_num:0,
css_mod_num:0,
css_hit_num:0,
css_not_hit_num:0,
css_expired_num:0
},
init:function(){
h.loaded=[],h.unload=[];
var e,t,r;
if(window.no_moon_ls&&(h.clearSample=!0),a){
var s="_moon_ver_key_",c=a.getItem(s);
c!=h.version&&(h.clear(),a.setItem(s,h.version));
}
if((-1!=location.search.indexOf("no_moon1=1")||-1!=location.search.indexOf("no_lshttps=1"))&&h.clear(),
a){
var d=1*a.getItem(h.prefix+"clean_time"),_=+new Date;
if(_-d>=1296e6){
h.clear();
try{
!!a&&a.setItem(h.prefix+"clean_time",+new Date);
}catch(m){}
}
}
i(moon_map,function(i,s){
if(t=h.prefix+s,r=!!i&&i.replace(f,""),e=!!a&&a.getItem(t),version=!!a&&(a.getItem(t+"_ver")||"").replace(f,""),
h.mod_num++,r&&-1!=r.indexOf(".css")?h.cacheData.css_mod_num++:r&&-1!=r.indexOf(".js")&&h.cacheData.js_mod_num++,
h.clearSample||!e||r!=version)h.unload.push(r.replace(f,"")),r&&-1!=r.indexOf(".css")?e?r!=version&&h.cacheData.css_expired_num++:h.cacheData.css_not_hit_num++:r&&-1!=r.indexOf(".js")&&(e?r!=version&&h.cacheData.js_expired_num++:h.cacheData.js_not_hit_num++);else{
if("https:"==location.protocol&&window.moon_hash_map&&window.moon_hash_map[s]&&window.crypto)try{
n(e).then(function(e){
window.moon_hash_map[s]!=e&&console.log(s);
});
}catch(c){}
try{
var d="//# sourceURL="+s+"\n//@ sourceURL="+s;
o.eval.call(o,'define("'+s+'",[],'+e+")"+d),h.hit_num++,r&&-1!=r.indexOf(".css")?h.cacheData.css_hit_num++:r&&-1!=r.indexOf(".js")&&h.cacheData.js_hit_num++;
}catch(c){
h.unload.push(r.replace(f,""));
}
}
}),h.load(h.genUrl());
},
genUrl:function(){
var e=h.unload;
if(!e||e.length<=0)return[];
var o,t,n="",r=[],i={},a=-1!=location.search.indexOf("no_moon2=1"),s="//"+p;
-1!=location.href.indexOf("moon_debug2=1")&&(s="//mp.weixin.qq.com");
for(var c=0,d=e.length;d>c;++c){
/^\/(.*?)\//.test(e[c]);
var _=/^\/(.*?)\//.exec(e[c]);
_.length<2||!_[1]||(t=_[1],n=i[t],n?(o=n+","+e[c],o.length>1e3||a?(r.push(n+"?v="+h.version),
n=location.protocol+s+e[c],i[t]=n):(n=o,i[t]=n)):(n=location.protocol+s+e[c],i[t]=n));
}
for(var m in i)i.hasOwnProperty(m)&&r.push(i[m]);
return r;
},
load:function(e){
if(window.__wxgspeeds&&(window.__wxgspeeds.mod_num=h.mod_num,window.__wxgspeeds.hit_num=h.hit_num),
!e||e.length<=0)return seajs.combo_status=seajs.COMBO_LOADED,seajs.run(),console.debug&&console.debug("[moon] load js complete, all in cache, cost time : 0ms, total count : "+h.mod_num+", hit num: "+h.hit_num),
void window.__moonclientlog.push("[moon] load js complete, all in cache, cost time : 0ms, total count : "+h.mod_num+", hit num: "+h.hit_num);
seajs.combo_status=seajs.COMBO_LOADING;
var o=0,t=+new Date;
window.__wxgspeeds&&(window.__wxgspeeds.combo_times=[],window.__wxgspeeds.combo_times.push(t)),
i(e,function(n){
h.request(n,u,function(){
if(window.__wxgspeeds&&window.__wxgspeeds.combo_times.push(+new Date),o++,o==e.length){
var n=+new Date-t;
window.__wxgspeeds&&(window.__wxgspeeds.mod_downloadtime=n),seajs.combo_status=seajs.COMBO_LOADED,
seajs.run(),console.debug&&console.debug("[moon] load js complete, url num : "+e.length+", total mod count : "+h.mod_num+", hit num: "+h.hit_num+", use time : "+n+"ms"),
window.__moonclientlog.push("[moon] load js complete, url num : "+e.length+", total mod count : "+h.mod_num+", hit num: "+h.hit_num+", use time : "+n+"ms");
}
});
});
},
request:function(o,n,r){
if(o){
n=n||0,o.indexOf("mp.weixin.qq.com")>-1&&((new Image).src=location.protocol+"//mp.weixin.qq.com/mp/jsmonitor?idkey=27613_32_1&r="+Math.random(),
window.__moon_report([{
offset:_,
log:"load_script_from_mp: "+o
}],1));
var i=-1;
window.__DEBUGINFO&&(__DEBUGINFO.res_list||(__DEBUGINFO.res_list=[]),__DEBUGINFO.res_list.push({
type:"js",
status:"pendding",
start:+new Date,
end:0,
url:o
}),i=__DEBUGINFO.res_list.length-1),-1!=location.search.indexOf("no_lshttps=1")&&(o=o.replace("http://","https://"));
var a=document.createElement("script");
a.src=o,a.type="text/javascript",a.async=!0,a.down_time=+new Date,a.onerror=function(s){
t(i,"status","error"),t(i,"end",+new Date);
var _=new Error(s);
if(n>=0)if(w>n){
var l=o.replace("res.wx.qq.com","mp.weixin.qq.com");
h.request(l,n,r);
}else h.request(o,n,r);else window.__moon_report&&window.__moon_report([{
offset:c,
log:"load_script_error: "+o,
e:_
}],1);
if(n==w-1&&window.__moon_report([{
offset:d,
log:"load_script_error: "+o,
e:_
}],1),-1==n){
var u="ua: "+window.navigator.userAgent+", time="+(+new Date-a.down_time)+", load_script_error -1 : "+o;
window.__moon_report([{
offset:m,
log:u
}],1);
}
window.__moonclientlog.push("moon load js error : "+o+", error -> "+_.toString()),
e("moon_request_error url:"+o);
},"undefined"!=typeof moon_crossorigin&&moon_crossorigin&&a.setAttribute("crossorigin",!0),
a.onload=a.onreadystatechange=function(){
t(i,"status","loaded"),t(i,"end",+new Date),!a||a.readyState&&!/loaded|complete/.test(a.readyState)||(t(i,"status","200"),
a.onload=a.onreadystatechange=null,"function"==typeof r&&r());
},n--,s.appendChild(a),e("moon_request url:"+o+" retry:"+n);
}
},
setItem:function(e,o){
!!a&&a.setItem(e,o);
},
clear:function(){
a&&(i(a,function(e,o){
~o.indexOf(h.prefix)&&a.removeItem(o);
}),console.debug&&console.debug("[moon] clear"));
},
idkeyReport:function(e,o,t){
t=t||1;
var n=e+"_"+o+"_"+t;
(new Image).src="/mp/jsmonitor?idkey="+n+"&r="+Math.random();
}
};
seajs&&seajs.use&&"string"==typeof window.__moon_mainjs&&seajs.use(window.__moon_mainjs),
window.moon=h;
}(window),function(){
try{
Math.random()<1;
}catch(e){}
}(),window.moon.init();
};
e(),!!window.__moon_initcallback&&window.__moon_initcallback(),window.__wxgspeeds&&(window.__wxgspeeds.moonendtime=+new Date);
}
}
__moonf__(); }, 25);</script><script nonce="1762986970" type="text/javascript">
    var real_show_page_time = +new Date();
    if (!!window.addEventListener){
        window.addEventListener("load", function(){
            window.onload_endtime = +new Date();
        });
    }

    
    if(typeof seajs != 'undefined' && seajs.config){
        try{
            seajs.config({
              'map': [
                [ '.js', '.js?v='+new Date().getTime() ]
              ]
            });
        }catch(e){
            console.info('not support seajs config');
        }
    }

    
</script>

    </body>
    <script nonce="1762986970" type="text/javascript">document.addEventListener("touchstart", function() {},false);</script>
</html>

